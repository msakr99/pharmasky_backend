# ๐ ูุธุงู ุงููุฑุฏูุฉ (Work Shift System)

ูุธุงู ุฐูู ูุฅุฏุงุฑุฉ ุฃููุงุช ุงูุนูู ูุน ุฅุดุนุงุฑุงุช ุชููุงุฆูุฉ ููุตูุฏููุงุช.

---

## ๐ ุงููุดููุฉ ูุงูุญู

### ุงููุดููุฉ โ
- ุงูุนูู ูู 6 ูุณุงุกู โ 2 ุตุจุงุญุงู (ููุณ ููุช ุซุงุจุช)
- ุตุนูุจุฉ ุญุณุงุจ ุฅุญุตุงุฆูุงุช ุฏูููุฉ
- ุงูุตูุฏููุงุช ูุง ุชุนุฑู ูุชู ุงููุธุงู ูุชุงุญ

### ุงูุญู โ
- ูุธุงู ูุฑุฏูุฉ ูุฏูู - ุชุจุฏุฃ ูุชูุชูู ุจุถุบุทุฉ ุฒุฑ
- ุฅุดุนุงุฑุงุช ุชููุงุฆูุฉ ูุฌููุน ุงูุตูุฏููุงุช ุนูุฏ ุงูุจุฏุก ูุงูุฅุบูุงู
- ุฅุญุตุงุฆูุงุช ุฏูููุฉ ููู ูุฑุฏูุฉ
- ูุฑููุฉ ูุงููุฉ ูู ุฃููุงุช ุงูุนูู

---

## ๐ฏ ููู ูุนูู ุงููุธุงู

### ุงูุชุฏูู

```
1. Admin ูุถุบุท "ุงุจุฏุฃ ุงููุฑุฏูุฉ" 
   โ
2. ุฅูุดุงุก WorkShift (status=ACTIVE)
   โ
3. ุฅุฑุณุงู ุฅุดุนุงุฑ "๐ข ุงููุธุงู ูุชุงุญ ุงูุขู" ููู ุงูุตูุฏููุงุช
   โ
4. ุงูุนูู ูุจุฏุฃ... (ุงูุฅุญุตุงุฆูุงุช ุชุชุณุฌู ุชููุงุฆูุงู)
   โ
5. Admin ูุถุบุท "ุฅุบูุงู ุงููุฑุฏูุฉ"
   โ
6. ุชุญุฏูุซ ุงูุฅุญุตุงุฆูุงุช ุงูููุงุฆูุฉ
   โ
7. ุฅุฑุณุงู ุฅุดุนุงุฑ "๐ด ุชู ุฅุบูุงู ุงููุธุงู" ููู ุงูุตูุฏููุงุช
```

---

## ๐ API Endpoints

### 1. ุจุฏุก ูุฑุฏูุฉ ุฌุฏูุฏุฉ

```bash
POST /core/shifts/start/
```

**Request:**
```json
{
  "send_notifications": true,
  "notification_message": "ูุฑุญุจุงู! ุงููุธุงู ูุชุงุญ ุงูุขู ููุทูุจุงุช"
}
```

**Response:**
```json
{
  "success": true,
  "message": "ุชู ุจุฏุก ุงููุฑุฏูุฉ ุจูุฌุงุญ ูุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช ููุตูุฏููุงุช",
  "data": {
    "id": 123,
    "status": "ACTIVE",
    "started_by": {
      "id": 1,
      "username": "admin",
      "name": "Admin"
    },
    "start_time": "2025-10-17T18:00:00Z",
    "total_sale_invoices": 0,
    "total_sales_amount": "0.00"
  }
}
```

**ูุง ูุญุฏุซ:**
- โ ุฅูุดุงุก ูุฑุฏูุฉ ุฌุฏูุฏุฉ
- โ ุฅุฑุณุงู ุฅุดุนุงุฑ ูู **ุฌููุน ุงูุตูุฏููุงุช ุงููุดุทุฉ**:
  ```
  ๐ข ุงููุธุงู ูุชุงุญ ุงูุขู
  ูุฑุญุจุงู! ุจุฏุฃุช ุงููุฑุฏูุฉ ุงูุขู (06:00 PM). 
  ููููู ุชูุฏูู ุงูุทูุจุงุช ูุงูุงุณุชูุณุงุฑุงุช. ูุญู ูู ุฎุฏูุชู!
  ```

---

### 2. ุฅุบูุงู ุงููุฑุฏูุฉ

```bash
POST /core/shifts/close/
```

**Request:**
```json
{
  "notes": "ูุฑุฏูุฉ ููุชุงุฒุฉุ 50 ุทูุจ ุชู ูุนุงูุฌุชูุง",
  "send_notifications": true,
  "notification_message": "ุดูุฑุงู! ุณูุนูุฏ ุบุฏุงู ูู ููุณ ุงูููุนุฏ"
}
```

**Response:**
```json
{
  "success": true,
  "message": "ุชู ุฅุบูุงู ุงููุฑุฏูุฉ ุจูุฌุงุญ",
  "data": {
    "id": 123,
    "status": "CLOSED",
    "start_time": "2025-10-17T18:00:00Z",
    "end_time": "2025-10-18T02:00:00Z",
    "duration": "8.0 ุณุงุนุฉ",
    "total_sale_invoices": 50,
    "total_sales_amount": "125000.00",
    "total_payments": 30,
    "total_payments_amount": "75000.00",
    "notes": "ูุฑุฏูุฉ ููุชุงุฒุฉุ 50 ุทูุจ ุชู ูุนุงูุฌุชูุง"
  }
}
```

**ูุง ูุญุฏุซ:**
- โ ุชุญุฏูุซ ุฅุญุตุงุฆูุงุช ุงููุฑุฏูุฉ
- โ ุฅุบูุงู ุงููุฑุฏูุฉ
- โ ุฅุฑุณุงู ุฅุดุนุงุฑ ูู **ุฌููุน ุงูุตูุฏููุงุช**:
  ```
  ๐ด ุชู ุฅุบูุงู ุงููุธุงู
  ุชู ุฅุบูุงู ุงููุฑุฏูุฉ (02:00 AM). ูุฏุฉ ุงููุฑุฏูุฉ: 8.0 ุณุงุนุฉ.
  ุดูุฑุงู ููู! ุณูููู ูุชุงุญูู ูู ุงููุฑุฏูุฉ ุงููุงุฏูุฉ.
  ```

---

### 3. ุงููุฑุฏูุฉ ุงูุญุงููุฉ

```bash
GET /core/shifts/current/
```

**Response:**
```json
{
  "success": true,
  "message": "ุงููุฑุฏูุฉ ุงููุดุทุฉ ุงูุญุงููุฉ",
  "data": {
    "id": 123,
    "status": "ACTIVE",
    "started_by": {"id": 1, "name": "Admin"},
    "start_time": "2025-10-17T18:00:00Z",
    "duration": "3.5 ุณุงุนุฉ (ูุณุชูุฑุฉ)",
    "total_sale_invoices": 25,
    "total_sales_amount": "62500.00"
  }
}
```

**ุงูุงุณุชุฎุฏุงู:**
- ููุชุญูู ูู ูุฌูุฏ ูุฑุฏูุฉ ูุดุทุฉ
- ูุนุฑุถ ุงูุฅุญุตุงุฆูุงุช ุงูุญุงููุฉ (Live)
- ูุชุงุญ ูุฌููุน ุงููุณุชุฎุฏููู

---

### 4. ูุงุฆูุฉ ุงููุฑุฏูุงุช

```bash
GET /core/shifts/
```

**Response:**
```json
{
  "success": true,
  "data": {
    "results": [
      {
        "id": 123,
        "status": "CLOSED",
        "start_time": "2025-10-17T18:00:00Z",
        "end_time": "2025-10-18T02:00:00Z",
        "duration": "8.0 ุณุงุนุฉ",
        "total_sale_invoices": 50,
        "total_sales_amount": "125000.00"
      }
    ],
    "count": 100
  }
}
```

**Filters:**
```bash
# ููุชุฑุฉ ุญุณุจ ุงูุญุงูุฉ
GET /core/shifts/?status=ACTIVE
GET /core/shifts/?status=CLOSED
```

---

### 5. ุฅุญุตุงุฆูุงุช ุงููุฑุฏูุงุช

```bash
GET /core/shifts/stats/
```

**Response:**
```json
{
  "success": true,
  "data": {
    "total_shifts": 150,
    "active_shifts": 1,
    "closed_shifts": 149,
    "total_sales_all_shifts": "18750000.00",
    "total_payments_all_shifts": "15000000.00",
    "average_invoices_per_shift": 45.5
  }
}
```

---

## ๐ก ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

### ูุซุงู 1: ุจุฏุก ููู ุนูู ุนุงุฏู

```bash
# ุงูุณุงุนุฉ 6 ูุณุงุกู - Admin ุฌุงูุฒ ููุนูู
curl -X POST http://localhost:8000/core/shifts/start/ \
     -H "Authorization: Token ADMIN_TOKEN" \
     -H "Content-Type: application/json" \
     -d '{
       "send_notifications": true,
       "notification_message": "ูุณุงุก ุงูุฎูุฑ! ุงููุธุงู ูุชุงุญ ุงูุขู. ูููููู ุชูุฏูู ุทูุจุงุชูู ๐"
     }'

# โจ ุฌููุน ุงูุตูุฏููุงุช (200 ุตูุฏููุฉ) ุชุณุชูู:
# "๐ข ุงููุธุงู ูุชุงุญ ุงูุขู"
# "ูุณุงุก ุงูุฎูุฑ! ุงููุธุงู ูุชุงุญ ุงูุขู. ูููููู ุชูุฏูู ุทูุจุงุชูู ๐"
```

---

### ูุซุงู 2: ุฅุบูุงู ุงููุฑุฏูุฉ

```bash
# ุงูุณุงุนุฉ 2 ุตุจุงุญุงู - ุงูุชูู ุงูุนูู
curl -X POST http://localhost:8000/core/shifts/close/ \
     -H "Authorization: Token ADMIN_TOKEN" \
     -H "Content-Type: application/json" \
     -d '{
       "notes": "ูุฑุฏูุฉ ููุชุงุฒุฉ - 75 ุทูุจ",
       "send_notifications": true,
       "notification_message": "ุชุตุจุญูู ุนูู ุฎูุฑ! ุงูุชูุช ุงููุฑุฏูุฉ. ุณูุนูุฏ ุบุฏุงู ๐"
     }'

# โจ ุฌููุน ุงูุตูุฏููุงุช ุชุณุชูู:
# "๐ด ุชู ุฅุบูุงู ุงููุธุงู"
# "ุชุตุจุญูู ุนูู ุฎูุฑ! ุงูุชูุช ุงููุฑุฏูุฉ. ุณูุนูุฏ ุบุฏุงู ๐"
```

---

### ูุซุงู 3: ุงูุชุญูู ูู ุงููุฑุฏูุฉ ุงูุญุงููุฉ

```bash
# ุฃู ูุณุชุฎุฏู ููุฏุฑ ูุดูู ุงููุฑุฏูุฉ ุงูุญุงููุฉ
curl http://localhost:8000/core/shifts/current/ \
     -H "Authorization: Token ANY_USER_TOKEN"

# Response:
{
  "success": true,
  "data": {
    "status": "ACTIVE",
    "start_time": "2025-10-17T18:00:00Z",
    "duration": "5.5 ุณุงุนุฉ (ูุณุชูุฑุฉ)",
    "total_sale_invoices": 45,
    "total_sales_amount": "112500.00"
  }
}
```

---

### ูุซุงู 4: ูุฑุงุฌุนุฉ ุงููุฑุฏูุงุช ุงูุณุงุจูุฉ

```bash
# Admin ูุดูู ุขุฎุฑ 10 ูุฑุฏูุงุช
curl http://localhost:8000/core/shifts/?page_size=10 \
     -H "Authorization: Token ADMIN_TOKEN"

# Response: ูุงุฆูุฉ ุจุฌููุน ุงููุฑุฏูุงุช ูุน ุงูุฅุญุตุงุฆูุงุช
```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช ุงููุณุฌูุฉ ุชููุงุฆูุงู

### ููู ูุฑุฏูุฉ:

| ุงูุฅุญุตุงุฆูุฉ | ุงููุตู |
|-----------|--------|
| `total_sale_invoices` | ุนุฏุฏ ููุงุชูุฑ ุงูุจูุน (ุทูุจุงุช ุงูุตูุฏููุงุช) |
| `total_purchase_invoices` | ุนุฏุฏ ููุงุชูุฑ ุงูุดุฑุงุก (ูููุฎุงุฒู) |
| `total_payments` | ุนุฏุฏ ุงูุฏูุนุงุช |
| `total_returns` | ุนุฏุฏ ุงููุฑุชุฌุนุงุช |
| `total_complaints` | ุนุฏุฏ ุงูุดูุงูู |
| `total_new_registrations` | ุนุฏุฏ ุงูุตูุฏููุงุช ุงูุฌุฏูุฏุฉ |
| `total_sales_amount` | ุฅุฌูุงูู ุงููุจูุนุงุช (ุจุงูุฌููู) |
| `total_payments_amount` | ุฅุฌูุงูู ุงููุฏููุนุงุช (ุจุงูุฌููู) |

### ุญุณุงุจ ุชููุงุฆู:
- โ ูุชู ุญุณุงุจ ุงูุฅุญุตุงุฆูุงุช **ุชููุงุฆูุงู** ุนูุฏ ุฅุบูุงู ุงููุฑุฏูุฉ
- โ ูููู ุชุญุฏูุซูุง ุฃุซูุงุก ุงููุฑุฏูุฉ ูู API ุงูุญุงููุฉ

---

## ๐ฏ ุณููุงุฑูู ุนููู ูุงูู

### ุงูููู ุงูุฃูู:

```python
# ุงูุณุงุนุฉ 6:00 ูุณุงุกู
# 1. Admin ูุจุฏุฃ ุงููุฑุฏูุฉ
POST /core/shifts/start/
{
  "notification_message": "ูุณุงุก ุงูุฎูุฑ! ุจุฏุฃูุง ุงูุนูู ุงูุขู ๐"
}

# โจ 200 ุตูุฏููุฉ ุชุณุชูู: "๐ข ุงููุธุงู ูุชุงุญ ุงูุขู"

# ุฎูุงู ุงููุฑุฏูุฉ (6 ูุณุงุกู โ 2 ุตุจุงุญุงู):
# - 75 ุตูุฏููุฉ ุชุทูุจ ุทูุจุงุช โ 75 ูุงุชูุฑุฉ ุจูุน
# - 30 ุฏูุนุฉ ุชู ุชุณุฌูููุง
# - 5 ูุฑุชุฌุนุงุช
# - 2 ุดููู
# - 3 ุตูุฏููุงุช ุฌุฏูุฏุฉ

# ุงูุณุงุนุฉ 2:00 ุตุจุงุญุงู
# 2. Admin ูุบูู ุงููุฑุฏูุฉ
POST /core/shifts/close/
{
  "notes": "ูุฑุฏูุฉ ููุชุงุฒุฉ - ุทูุจุงุช ูุซูุฑุฉ"
}

# โจ 200 ุตูุฏููุฉ ุชุณุชูู: "๐ด ุชู ุฅุบูุงู ุงููุธุงู"

# ุงููุชูุฌุฉ:
{
  "duration": "8.0 ุณุงุนุฉ",
  "total_sale_invoices": 75,
  "total_sales_amount": "187500.00",
  "total_payments": 30,
  "total_payments_amount": "90000.00",
  "total_returns": 5,
  "total_complaints": 2,
  "total_new_registrations": 3
}
```

---

## ๐ฑ Integration ูู Frontend

### Dashboard ุงูุฑุฆูุณู:

```javascript
// React/Vue/Angular Component

// 1. ุงูุชุญูู ูู ุงููุฑุฏูุฉ ุงูุญุงููุฉ
const checkCurrentShift = async () => {
  const response = await fetch('/core/shifts/current/', {
    headers: { 'Authorization': `Token ${token}` }
  });
  const data = await response.json();
  
  if (data.data) {
    // ุนุฑุถ: "ุงููุฑุฏูุฉ ูุดุทุฉ - ุจุฏุฃุช ุงูุณุงุนุฉ 6:00 ูุณุงุกู"
    setShiftStatus('active');
    setShiftData(data.data);
  } else {
    // ุนุฑุถ: "ูุง ุชูุฌุฏ ูุฑุฏูุฉ ูุดุทุฉ"
    setShiftStatus('inactive');
  }
};

// 2. ุจุฏุก ูุฑุฏูุฉ
const startShift = async () => {
  const response = await fetch('/core/shifts/start/', {
    method: 'POST',
    headers: {
      'Authorization': `Token ${adminToken}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      send_notifications: true,
      notification_message: customMessage || ""
    })
  });
  
  // Success: "ุชู ุจุฏุก ุงููุฑุฏูุฉ ูุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช ูู 200 ุตูุฏููุฉ"
};

// 3. ุฅุบูุงู ูุฑุฏูุฉ
const closeShift = async () => {
  const response = await fetch('/core/shifts/close/', {
    method: 'POST',
    headers: {
      'Authorization': `Token ${adminToken}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      notes: shiftNotes,
      send_notifications: true
    })
  });
  
  // Success: ุนุฑุถ ุฅุญุตุงุฆูุงุช ุงููุฑุฏูุฉ
  console.log(data.data.total_sale_invoices); // 75
  console.log(data.data.total_sales_amount);  // 187500.00
};
```

---

## ๐ Admin Dashboard UI

### ูุซุงู ูุงุฌูุฉ:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ        ๐ ุฅุฏุงุฑุฉ ุงููุฑุฏูุฉ                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ                                                โ
โ  ุงูุญุงูุฉ: ๐ข ูุดุทุฉ                             โ
โ  ุจุฏุฃุช: 17/10/2025 - 06:00 ูุณุงุกู              โ
โ  ุงููุฏุฉ: 5.5 ุณุงุนุฉ (ูุณุชูุฑุฉ)                    โ
โ                                                โ
โ  โโโโโโโ ุงูุฅุญุตุงุฆูุงุช ุงูุญุงููุฉ โโโโโโโ          โ
โ  ๐ฆ ุงูุทูุจุงุช: 45                               โ
โ  ๐ฐ ุงููุจูุนุงุช: 112,500 ุฌููู                   โ
โ  ๐ณ ุงูุฏูุนุงุช: 25 (62,500 ุฌููู)                โ
โ  โฉ๏ธ  ุงููุฑุชุฌุนุงุช: 3                             โ
โ  ๐ข ุงูุดูุงูู: 1                                โ
โ                                                โ
โ  [ ๐ด ุฅุบูุงู ุงููุฑุฏูุฉ ]                        โ
โ                                                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

ุนูุฏ ุงูุถุบุท ุนูู "ุฅุบูุงู":
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ        ุฅุบูุงู ุงููุฑุฏูุฉ                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ                                                โ
โ  ๐ ููุงุญุธุงุช (ุงุฎุชูุงุฑู):                       โ
โ  [__________________________________]          โ
โ                                                โ
โ  โ ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ููุตูุฏููุงุช                 โ
โ                                                โ
โ  ๐ฌ ุฑุณุงูุฉ ูุฎุตุตุฉ (ุงุฎุชูุงุฑู):                   โ
โ  [__________________________________]          โ
โ                                                โ
โ  [ ุฅูุบุงุก ]  [ โ ุชุฃููุฏ ุงูุฅุบูุงู ]             โ
โ                                                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ุงูุฅุดุนุงุฑุงุช ุงููุฑุณูุฉ

### ุนูุฏ ุจุฏุก ุงููุฑุฏูุฉ:

**ููุตูุฏููุงุช:**
```
๐ข ุงููุธุงู ูุชุงุญ ุงูุขู

ูุฑุญุจุงู! ุจุฏุฃุช ุงููุฑุฏูุฉ ุงูุขู (06:00 PM).
ููููู ุชูุฏูู ุงูุทูุจุงุช ูุงูุงุณุชูุณุงุฑุงุช. ูุญู ูู ุฎุฏูุชู!
```

**Extra Data:**
```json
{
  "type": "shift_started",
  "shift_id": 123,
  "shift_type": "start",
  "timestamp": "2025-10-17T18:00:00Z"
}
```

---

### ุนูุฏ ุฅุบูุงู ุงููุฑุฏูุฉ:

**ููุตูุฏููุงุช:**
```
๐ด ุชู ุฅุบูุงู ุงููุธุงู

ุชู ุฅุบูุงู ุงููุฑุฏูุฉ (02:00 AM). ูุฏุฉ ุงููุฑุฏูุฉ: 8.0 ุณุงุนุฉ.
ุดูุฑุงู ููู! ุณูููู ูุชุงุญูู ูู ุงููุฑุฏูุฉ ุงููุงุฏูุฉ.
```

**Extra Data:**
```json
{
  "type": "shift_closed",
  "shift_id": 123,
  "shift_type": "close",
  "timestamp": "2025-10-18T02:00:00Z"
}
```

---

## ๐ฏ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

### ุญุงูุฉ 1: ูุฑุฏูุฉ ุนุงุฏูุฉ

```
06:00 PM โ ุจุฏุก โ (200 ุฅุดุนุงุฑ)
   โ
[8 ุณุงุนุงุช ุนูู]
   โ
02:00 AM โ ุฅุบูุงู โ (200 ุฅุดุนุงุฑ)
```

### ุญุงูุฉ 2: ูุฑุฏูุฉ ุทูููุฉ

```
06:00 PM โ ุจุฏุก โ
   โ
[12 ุณุงุนุฉ ุนูู]
   โ
06:00 AM โ ุฅุบูุงู โ
```

### ุญุงูุฉ 3: ูุฑุฏูุชูู ูู ููู

```
08:00 AM โ ุจุฏุก ูุฑุฏูุฉ 1 โ
02:00 PM โ ุฅุบูุงู ูุฑุฏูุฉ 1 โ
   
06:00 PM โ ุจุฏุก ูุฑุฏูุฉ 2 โ
02:00 AM โ ุฅุบูุงู ูุฑุฏูุฉ 2 โ
```

---

## ๐ ุงูุตูุงุญูุงุช

| Endpoint | Permission |
|----------|------------|
| Start Shift | Admin/Manager only |
| Close Shift | Admin/Manager only |
| Current Shift | All authenticated users |
| List Shifts | Admin/Manager only |
| Stats | Admin/Manager only |

---

## ๐ Django Admin

ูู Admin Panel:

```
Work Shifts
โโโโโโโโฌโโโโโโโโโฌโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโฌโโโโโโโโโโฌโโโโโโโโโโโ
โ ID   โ Status โ Started By    โ Start Time   โ Durationโ Invoices โ
โโโโโโโโผโโโโโโโโโผโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโผโโโโโโโโโโผโโโโโโโโโโโค
โ 123  โ ACTIVE โ Admin         โ 18:00 PM     โ 5.5h    โ 45       โ
โ 122  โ CLOSED โ Manager       โ 18:00 PM     โ 8.0h    โ 68       โ
โ 121  โ CLOSED โ Admin         โ 18:00 PM     โ 7.5h    โ 52       โ
โโโโโโโโดโโโโโโโโโดโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโดโโโโโโโโโโดโโโโโโโโโโโ
```

**Features:**
- ุนุฑุถ ุฌููุน ุงููุฑุฏูุงุช
- ุชุตููุฉ ุญุณุจ ุงูุญุงูุฉ
- ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช ุงูุชูุตูููุฉ
- ุงูุจุญุซ ุญุณุจ ูู ุจุฏุฃูุง/ุฃุบูููุง
- **ููุน ุงูุฅุถุงูุฉ ุงููุฏููุฉ** (ูุฌุจ ุงุณุชุฎุฏุงู API)

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ูู Django Shell:

```python
from core.models import WorkShift
from django.contrib.auth import get_user_model

User = get_user_model()
admin = User.objects.filter(role='ADMIN').first()

# 1. ุจุฏุก ูุฑุฏูุฉ
shift = WorkShift.objects.create(
    started_by=admin,
    status='ACTIVE'
)
print(f"โ ุจุฏุฃุช ุงููุฑุฏูุฉ #{shift.pk}")

# 2. ูุญุงูุงุฉ ุจุนุถ ุงูุนูููุงุช...
# (ุฅูุดุงุก ููุงุชูุฑุ ุฏูุนุงุชุ ุฅูุฎ)

# 3. ุชุญุฏูุซ ุงูุฅุญุตุงุฆูุงุช
shift.update_statistics()
print(f"โ ููุงุชูุฑ ุงูุจูุน: {shift.total_sale_invoices}")
print(f"โ ุงููุจูุนุงุช: {shift.total_sales_amount} ุฌููู")

# 4. ุฅุบูุงู ุงููุฑุฏูุฉ
shift.close_shift(user=admin, notes="ูุฑุฏูุฉ ุชุฌุฑูุจูุฉ")
print(f"โ ุงููุฏุฉ: {shift.get_duration()}")
```

---

## โ๏ธ Migration

### ุฅูุดุงุก Migration:

```bash
docker exec -it pharmasky_web python manage.py makemigrations core
docker exec -it pharmasky_web python manage.py migrate core
```

---

## โ ุงููููุฒุงุช

โ **ูุฑููุฉ ูุงููุฉ** - ุงุจุฏุฃ ูุฃุบูู ูุชู ุชุฑูุฏ  
โ **ุฅุดุนุงุฑุงุช ุชููุงุฆูุฉ** - ูุฌููุน ุงูุตูุฏููุงุช  
โ **ุฑุณุงุฆู ูุฎุตุตุฉ** - ุญุณุจ ุงูููุงุณุจุฉ  
โ **ุฅุญุตุงุฆูุงุช ุฏูููุฉ** - ููู ูุฑุฏูุฉ  
โ **ุชุญุฏูุซ ููุฑู** - ุงูุฅุญุตุงุฆูุงุช live  
โ **ุณูู ุงูุงุณุชุฎุฏุงู** - ุถุบุทุฉ ุฒุฑ ูุงุญุฏุฉ  
โ **ูุชุงุจุนุฉ ุชุงุฑูุฎูุฉ** - ุฌููุน ุงููุฑุฏูุงุช ูุณุฌูุฉ  
โ **Admin Panel** - ูุงุฌูุฉ ุณููุฉ  

---

## ๐ ุงูุฎูุงุตุฉ

### ูุง ุชู ุฅูุดุงุคู:

| ุงูููู | ุงููุตู |
|------|-------|
| โ `core/models.py` | WorkShift model |
| โ `core/serializers.py` | 3 serializers |
| โ `core/views.py` | 5 API views |
| โ `core/urls.py` | 5 endpoints |
| โ `core/admin.py` | Admin interface |
| โ `notifications/tasks.py` | `send_shift_notification` task |

### ุงูุงุณุชุฎุฏุงู:

```
1. ุงุถุบุท "ุงุจุฏุฃ" โ โจ ุฅุดุนุงุฑ ูู 200 ุตูุฏููุฉ
2. ุงูุนูู... โ ๐ ุงูุฅุญุตุงุฆูุงุช ุชุชุณุฌู ุชููุงุฆูุงู
3. ุงุถุบุท "ุฃุบูู" โ โจ ุฅุดุนุงุฑ ูู 200 ุตูุฏููุฉ + ุญูุธ ุงูุฅุญุตุงุฆูุงุช
```

**ุงููุธุงู ุฌุงูุฒ! ๐**

