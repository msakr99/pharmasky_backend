# ุฏููู ุงูุชุญุตููุงุช
# Collections Schedule Guide

## ๐ ูุธุงู ุงูุชุญุตููุงุช ูุงููุฏููุนุงุช

---

## 1๏ธโฃ ุนุฑุถ ุฌููุน ุงูุชุญุตููุงุช (ุฏูุนุงุช ุงูุจูุน)

### ุงูู API

```http
GET http://129.212.140.152/finance/sale-payments/
Authorization: Token your-token-here
```

### ุงูุงุณุชุฌุงุจุฉ

```json
{
  "count": 25,
  "next": "http://129.212.140.152/finance/sale-payments/?page=2",
  "previous": null,
  "results": [
    {
      "id": 1,
      "user": {
        "id": 5,
        "name": "ุตูุฏููุฉ ุงูููุฑ",
        "username": "+201234567890",
        "role": "pharmacy"
      },
      "method": "cash",
      "method_label": "ูุงุด",
      "amount": "5000.00",
      "at": "2025-10-10T10:00:00Z",
      "remarks": "ุชุญุตูู ุฌุฒุฆู",
      "timestamp": "2025-10-10T10:05:00Z"
    },
    {
      "id": 2,
      "user": {
        "id": 7,
        "name": "ุตูุฏููุฉ ุงูุดูุงุก",
        "username": "+201234567891",
        "role": "pharmacy"
      },
      "method": "instapay",
      "method_label": "ุฅูุณุชุงุจุงู",
      "amount": "10000.00",
      "at": "2025-10-09T14:30:00Z",
      "remarks": "ุณุฏุงุฏ ูุงูู",
      "timestamp": "2025-10-09T14:35:00Z"
    }
  ]
}
```

### ุงูููุชุฑุฉ ุญุณุจ ุงูุชุงุฑูุฎ

```http
# ุงูุชุญุตููุงุช ูู ููู ูุนูู
GET http://129.212.140.152/finance/sale-payments/?at=2025-10-10

# ุงูุชุญุตููุงุช ูู ุชุงุฑูุฎ ูุนูู
GET http://129.212.140.152/finance/sale-payments/?at__gte=2025-10-01

# ุงูุชุญุตููุงุช ุญุชู ุชุงุฑูุฎ ูุนูู
GET http://129.212.140.152/finance/sale-payments/?at__lte=2025-10-31

# ุงูุชุญุตููุงุช ูู ูุชุฑุฉ ูุนููุฉ
GET http://129.212.140.152/finance/sale-payments/?at__gte=2025-10-01&at__lte=2025-10-31
```

### ุงูููุชุฑุฉ ุญุณุจ ุงูุตูุฏููุฉ

```http
# ุงูุชุญุตููุงุช ูู ุตูุฏููุฉ ูุนููุฉ
GET http://129.212.140.152/finance/sale-payments/?user=5
```

### ุงูููุชุฑุฉ ุญุณุจ ุทุฑููุฉ ุงูุฏูุน

```http
# ุงูุชุญุตููุงุช ุงููุงุด ููุท
GET http://129.212.140.152/finance/sale-payments/?method=cash

# ุงูุชุญุตููุงุช ุนุจุฑ ุฅูุณุชุงุจุงู
GET http://129.212.140.152/finance/sale-payments/?method=instapay

# ุงูุชุญุตููุงุช ุนุจุฑ ุงููุญูุธุฉ
GET http://129.212.140.152/finance/sale-payments/?method=wallet
```

---

## 2๏ธโฃ ุนุฑุถ ุงูุตูุฏููุงุช ุงููุฏูููุฉ (ุงููุทููุจ ุชุญุตูููุง)

### ุงูู API

```http
GET http://129.212.140.152/finance/account-transactions/?type=pharmacy
Authorization: Token your-token-here
```

### ุฃู ุงุณุชุฎุฏุงู API ุงูุญุณุงุจุงุช

```http
GET http://129.212.140.152/accounts/users/?role=pharmacy
Authorization: Token your-token-here
```

### ุงูุงุณุชุฌุงุจุฉ ุงููุชููุนุฉ

```json
{
  "results": [
    {
      "id": 5,
      "name": "ุตูุฏููุฉ ุงูููุฑ",
      "username": "+201234567890",
      "role": "pharmacy",
      "account": {
        "balance": -15000.00,  // โฌ๏ธ ุณุงูุจ = ูุฏููู ููู
        "credit_limit": 50000.00,
        "remaining_credit": 35000.00
      }
    },
    {
      "id": 7,
      "name": "ุตูุฏููุฉ ุงูุดูุงุก",
      "username": "+201234567891",
      "role": "pharmacy",
      "account": {
        "balance": -8000.00,  // โฌ๏ธ ุณุงูุจ = ูุฏููู ููู
        "credit_limit": 30000.00,
        "remaining_credit": 22000.00
      }
    },
    {
      "id": 9,
      "name": "ุตูุฏููุฉ ุงูุณูุงู",
      "username": "+201234567892",
      "role": "pharmacy",
      "account": {
        "balance": 0.00,  // โฌ๏ธ ุตูุฑ = ูุณุฏุฏ
        "credit_limit": 20000.00,
        "remaining_credit": 20000.00
      }
    }
  ]
}
```

**ููุงุญุธุฉ:** ุงูุฑุตูุฏ ุงูุณุงูุจ ูุนูู ุฃู ุงูุตูุฏููุฉ ูุฏูููุฉ ูู ุจูุฐุง ุงููุจูุบ

---

## 3๏ธโฃ ุชุณุฌูู ุชุญุตูู ุฌุฏูุฏ

### ุงูู API

```http
POST http://129.212.140.152/finance/sale-payments/create/
Authorization: Token your-token-here
```

### ุงูุจูุงูุงุช ุงููุทููุจุฉ

```json
{
  "user": 5,              // โฌ๏ธ ID ุงูุตูุฏููุฉ
  "method": "cash",       // โฌ๏ธ ุทุฑููุฉ ุงูุฏูุน: cash, instapay, wallet
  "amount": 5000.00,      // โฌ๏ธ ุงููุจูุบ ุงููุญุตู
  "at": "2025-10-10",     // โฌ๏ธ ุชุงุฑูุฎ ุงูุชุญุตูู
  "remarks": "ุชุญุตูู ุฌุฒุฆู ูู ุตูุฏููุฉ ุงูููุฑ"  // โฌ๏ธ ููุงุญุธุงุช (ุงุฎุชูุงุฑู)
}
```

### ุงูุงุณุชุฌุงุจุฉ

```json
{
  "id": 15,
  "user": {
    "id": 5,
    "name": "ุตูุฏููุฉ ุงูููุฑ",
    "username": "+201234567890"
  },
  "method": "cash",
  "method_label": "ูุงุด",
  "amount": "5000.00",
  "at": "2025-10-10T00:00:00Z",
  "remarks": "ุชุญุตูู ุฌุฒุฆู ูู ุตูุฏููุฉ ุงูููุฑ",
  "timestamp": "2025-10-10T12:30:00Z"
}
```

### ุงูุชุฃุซูุฑ ุนูู ุงููุธุงู

```
โ ุฑุตูุฏ ุงูุตูุฏููุฉ ูุชุญุฏุซ (balance ูุฒูุฏ)
โ ุงูุฎุฒูุฉ ุชุชุญุฏุซ ุชููุงุฆูุงู (ุฅุฐุง ูุงู ูุงุด)
โ ุฅุฌูุงูู ุงูุฏููู ููู ููู (credit_total_amount)
```

---

## 4๏ธโฃ ุชูุฑูุฑ ุงูุชุญุตููุงุช ุงููููู

### ูุซุงู: ุชุญุตููุงุช ุงูููู

```http
GET http://129.212.140.152/finance/sale-payments/?at=2025-10-10
```

### ุงูุงุณุชุฌุงุจุฉ

```json
{
  "count": 3,
  "results": [
    {
      "id": 10,
      "user": {"id": 5, "name": "ุตูุฏููุฉ ุงูููุฑ"},
      "method": "cash",
      "amount": "5000.00",
      "at": "2025-10-10T10:00:00Z"
    },
    {
      "id": 11,
      "user": {"id": 7, "name": "ุตูุฏููุฉ ุงูุดูุงุก"},
      "method": "instapay",
      "amount": "3000.00",
      "at": "2025-10-10T11:30:00Z"
    },
    {
      "id": 12,
      "user": {"id": 9, "name": "ุตูุฏููุฉ ุงูุณูุงู"},
      "method": "cash",
      "amount": "7000.00",
      "at": "2025-10-10T15:00:00Z"
    }
  ]
}
```

### ุชุญููู ุงูุชุญุตููุงุช ุงูููููุฉ

```
ุฅุฌูุงูู ุงูุชุญุตููุงุช: 15,000 ุฌููู
โโ ูุงุด: 12,000 ุฌููู (ุตูุฏููุฉ ุงูููุฑ + ุตูุฏููุฉ ุงูุณูุงู)
โโ ุฅูุณุชุงุจุงู: 3,000 ุฌููู (ุตูุฏููุฉ ุงูุดูุงุก)
```

---

## 5๏ธโฃ ุชูุฑูุฑ ุงูุชุญุตููุงุช ุงูุดูุฑู

### ูุซุงู: ุชุญุตููุงุช ุดูุฑ ุฃูุชูุจุฑ

```http
GET http://129.212.140.152/finance/sale-payments/?at__gte=2025-10-01&at__lte=2025-10-31
```

---

## 6๏ธโฃ ุฌุฏูู ุงูุชุญุตููุงุช ุงููุณุชูุจูู (ููุชุฑุญ)

### ุงูุตูุฏููุงุช ุงูุชู ุนูููุง ุฏููู

| ุงูุตูุฏููุฉ | ุงูุฑุตูุฏ ุงููุฏููู | ุขุฎุฑ ุฏูุนุฉ | ุงูููุนุฏ ุงูููุชุฑุญ ููุชุญุตูู |
|---------|----------------|-----------|------------------------|
| ุตูุฏููุฉ ุงูููุฑ | 15,000 ุฌููู | 2025-10-05 | 2025-10-15 |
| ุตูุฏููุฉ ุงูุดูุงุก | 8,000 ุฌููู | 2025-10-08 | 2025-10-18 |
| ุตูุฏููุฉ ุงูุฃูู | 20,000 ุฌููู | 2025-10-01 | 2025-10-11 |

---

## 7๏ธโฃ ุทุฑู ุงูุฏูุน ุงููุชุงุญุฉ

### ุงูุฎูุงุฑุงุช

```json
{
  "cash": "ูุงุด",          // โฌ๏ธ ูุคุซุฑ ุนูู ุงูุฎุฒูุฉ
  "instapay": "ุฅูุณุชุงุจุงู", // โฌ๏ธ ูุง ูุคุซุฑ ุนูู ุงูุฎุฒูุฉ
  "wallet": "ูุญูุธุฉ"       // โฌ๏ธ ูุง ูุคุซุฑ ุนูู ุงูุฎุฒูุฉ
}
```

**ููุงุญุธุฉ ูุงูุฉ:**
- ููุท ุงูุฏูุนุงุช ุจู **cash** ุชุคุซุฑ ุนูู ุงูุฎุฒูุฉ
- ุงูุฏูุนุงุช ุจู instapay ุฃู wallet ุชุคุซุฑ ุนูู ุฑุตูุฏ ุงูุตูุฏููุฉ ููุท

---

## 8๏ธโฃ ุณููุงุฑูู ุนููู ูุงูู

### ุงูููู: 2025-10-10

#### ุงูุฎุทูุฉ 1: ุนุฑุถ ุงูุตูุฏููุงุช ุงููุฏูููุฉ

```http
GET http://129.212.140.152/accounts/users/?role=pharmacy
```

**ุงููุชูุฌุฉ:**
```
- ุตูุฏููุฉ ุงูููุฑ: ูุฏูููุฉ ุจู 15,000 ุฌููู
- ุตูุฏููุฉ ุงูุดูุงุก: ูุฏูููุฉ ุจู 8,000 ุฌููู
- ุตูุฏููุฉ ุงูุณูุงู: ุฑุตูุฏูุง ุตูุฑ
```

---

#### ุงูุฎุทูุฉ 2: ุชุณุฌูู ุชุญุตูู ูู ุตูุฏููุฉ ุงูููุฑ

```http
POST http://129.212.140.152/finance/sale-payments/create/
{
  "user": 5,
  "method": "cash",
  "amount": 5000,
  "at": "2025-10-10",
  "remarks": "ุชุญุตูู ููุฏู"
}
```

**ุงูุชุฃุซูุฑ:**
```
โ ุฑุตูุฏ ุตูุฏููุฉ ุงูููุฑ: -15,000 โ -10,000
โ ุงูุฎุฒูุฉ: +5,000
โ ุฅุฌูุงูู ุงูุฏููู ููู: -5,000
```

---

#### ุงูุฎุทูุฉ 3: ุงูุชุญูู ูู ุงูุชุญุฏูุซุงุช

```http
GET http://129.212.140.152/finance/safe/
```

**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "safe_total_amount": "130000.00",    // +5,000
  "credit_total_amount": "18000.00",   // -5,000 (ูุงู 23,000)
  "debt_total_amount": "20000.00",
  "inventory_total_amount": "85000.00",
  "total_amount": "213000.00"
}
```

---

## 9๏ธโฃ ุงูุชูุงุฑูุฑ ุงููููุฏุฉ

### ุชูุฑูุฑ 1: ุฅุฌูุงูู ุงูุชุญุตููุงุช ุงูููููุฉ

```http
GET http://129.212.140.152/finance/sale-payments/?at=2025-10-10
```

---

### ุชูุฑูุฑ 2: ุงูุชุญุตููุงุช ุงููุงุด ููุท

```http
GET http://129.212.140.152/finance/sale-payments/?method=cash&at__gte=2025-10-01
```

---

### ุชูุฑูุฑ 3: ุงูุชุญุตููุงุช ูู ุตูุฏููุฉ ูุนููุฉ

```http
GET http://129.212.140.152/finance/sale-payments/?user=5
```

---

### ุชูุฑูุฑ 4: ุงูุตูุฏููุงุช ุงูุฃูุซุฑ ุฏูููุงู

```
ุงุญุตู ุนูู ูุงุฆูุฉ ุงูุตูุฏููุงุช ูุฑุชุจูุง ุญุณุจ balance ุชุตุงุนุฏูุงู
(ุงูุฃุฑูุงู ุงูุณุงูุจุฉ ุงูุฃูุจุฑ = ุฏููู ุฃูุซุฑ)
```

---

## ๐ ูุตุงุฆุญ ูุฅุฏุงุฑุฉ ุงูุชุญุตููุงุช

### 1. ุงููุชุงุจุนุฉ ุงูููููุฉ

```
โ ุฑุงุฌุน ุชุญุตููุงุช ุงูููู ูู ููุงูุฉ ูู ููู
โ ูุงุฑู ูุน ุงููุฏู ุงููููู
โ ุชุงุจุน ุงูุตูุฏููุงุช ุงูุชู ูู ุชุฏูุน
```

---

### 2. ุงูุชูุงุตู ูุน ุงูุตูุฏููุงุช ุงููุฏูููุฉ

```
๐ฑ ุงุชุตู ุจุงูุตูุฏููุงุช ุงูุชู ุฑุตูุฏูุง ุฃูู ูู -20,000
๐ง ุฃุฑุณู ุชูุจููุงุช ููุตูุฏููุงุช ุงููุชุฃุฎุฑุฉ
โฐ ุญุฏุฏ ููุงุนูุฏ ููุชุญุตูู
```

---

### 3. ุชุญููู ุฃููุงุท ุงูุฏูุน

```
๐ ุฃู ุทุฑููุฉ ุฏูุน ุงูุฃูุซุฑ ุงุณุชุฎุฏุงูุงูุ
๐ ุฃู ุตูุฏููุงุช ุชุฏูุน ุจุงูุชุธุงูุ
๐ ูุง ูู ูุชูุณุท ูุชุฑุฉ ุงูุณุฏุงุฏุ
```

---

## 1๏ธโฃ1๏ธโฃ ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ

### ุณ: ููู ุฃุนุฑู ุงูุตูุฏููุงุช ุงูุชู ุนูููุง ุฏูููุ

```http
GET http://129.212.140.152/accounts/users/?role=pharmacy
```

ุซู ุงุจุญุซ ุนู ุงูุญุณุงุจุงุช ุงูุชู `balance < 0`

---

### ุณ: ููู ุฃุณุฌู ุชุญุตูู ูุงุดุ

```http
POST http://129.212.140.152/finance/sale-payments/create/
{
  "user": <pharmacy_id>,
  "method": "cash",
  "amount": <amount>,
  "at": "2025-10-10"
}
```

---

### ุณ: ูู ุงูุชุญุตูู ุจุฅูุณุชุงุจุงู ูุฏุฎู ุงูุฎุฒูุฉุ

โ ูุงุ ููุท ุงูุชุญุตููุงุช ุจู **cash** ุชุฏุฎู ุงูุฎุฒูุฉ

---

### ุณ: ููู ุฃุนุฑู ุฅุฌูุงูู ุงูุฏููู ุงููุณุชุญูุฉุ

```http
GET http://129.212.140.152/finance/safe/
```

ุงูุธุฑ ุฅูู `credit_total_amount` - ูุฐุง ูู ุฅุฌูุงูู ุงูุฏููู ุงููุณุชุญูุฉ ููู

---

## 1๏ธโฃ2๏ธโฃ ูุงุฆูุฉ ุงูุชุญุตููุงุช ููุทุจุงุนุฉ

### ูููุฐุฌ ุฌุฏูู ุงูุชุญุตููุงุช

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
              ุชูุฑูุฑ ุงูุชุญุตููุงุช ุงููููู
                ุชุงุฑูุฎ: 2025/10/10
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

ู | ุงูุตูุฏููุฉ        | ุงููุจูุบ      | ุงูุทุฑููุฉ   | ุงูููุช
โโโผโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโผโโโโโโโโโโโผโโโโโโโโโ
1 | ุตูุฏููุฉ ุงูููุฑ    | 5,000 ุฌ   | ูุงุด      | 10:00
2 | ุตูุฏููุฉ ุงูุดูุงุก   | 3,000 ุฌ   | ุฅูุณุชุงุจุงู | 11:30
3 | ุตูุฏููุฉ ุงูุณูุงู   | 7,000 ุฌ   | ูุงุด      | 15:00
โโโดโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโดโโโโโโโโโโโดโโโโโโโโโ

ุฅุฌูุงูู ุงูุชุญุตููุงุช: 15,000 ุฌููู
โโ ูุงุด:         12,000 ุฌููู
โโ ุฅูุณุชุงุจุงู:     3,000 ุฌููู
โโ ูุญูุธุฉ:            0 ุฌููู

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ฏ ุงูุฎูุงุตุฉ

### ุงูู APIs ุงููุชุงุญุฉ ุญุงููุงู โ

| ุงูุนูููุฉ | ุงูู API | ุงููุตู |
|---------|---------|-------|
| ุนุฑุถ ุงูุชุญุตููุงุช | `GET /finance/sale-payments/` | ูู ุฏูุนุงุช ุงูุจูุน |
| ุชุณุฌูู ุชุญุตูู | `POST /finance/sale-payments/create/` | ุชุณุฌูู ุฏูุนุฉ ุฌุฏูุฏุฉ |
| ุนุฑุถ ุงูุตูุฏููุงุช | `GET /accounts/users/?role=pharmacy` | ุงูุญุณุงุจุงุช ูุงูุฃุฑุตุฏุฉ |
| ุนุฑุถ ุฑุฃุณ ุงููุงู | `GET /finance/safe/` | ุงูููุฎุต ุงููุงูู |

---

### ุงูููุงุชุฑ ุงููุชุงุญุฉ โ

```
- ุญุณุจ ุงูุชุงุฑูุฎ: ?at=2025-10-10
- ุญุณุจ ุงููุชุฑุฉ: ?at__gte=2025-10-01&at__lte=2025-10-31
- ุญุณุจ ุงูุตูุฏููุฉ: ?user=5
- ุญุณุจ ุงูุทุฑููุฉ: ?method=cash
```

---

## ๐ ุฌุงูุฒ ููุงุณุชุฎุฏุงู!

**ูู ุดูุก ููุฌูุฏ ููุนูู!** ููุท ุงุณุชุฎุฏู ุงูู APIs ุงููุฐููุฑุฉ ุฃุนูุงู ูุฅุฏุงุฑุฉ ุงูุชุญุตููุงุช! ๐ฐโจ

---

**ุขุฎุฑ ุชุญุฏูุซ**: 2025-10-10  
**ุงูุฅุตุฏุงุฑ**: 1.0.0  
**ุงูุญุงูุฉ**: โ ุฌุงูุฒ ููุนูู

