# ุณุฌู ุงูุชุญุฏูุซุงุช - ูุธุงู ุงููุตุงุฑูู
# Expenses System Changelog

## ๐ ุงูุชุงุฑูุฎ: 2025-10-10 | ุงูุฅุตุฏุงุฑ: 2.0.0

### โจ ููุฒุฉ ุฌุฏูุฏุฉ ูุงููุฉ: ูุธุงู ุงููุตุงุฑูู

ุชู ุฅุถุงูุฉ ูุธุงู ูุงูู ูุชุณุฌูู ูุชุชุจุน ุงููุตุงุฑูู ุงูุดูุฑูุฉ ูุงููุซุฑูุฉ!

---

## ๐ ูุง ุชู ุฅุถุงูุชู

### 1๏ธโฃ ูููุฐุฌ ุฌุฏูุฏ: `Expense`

**ุงูุญููู:**
- `type` - ููุน ุงููุตุฑูู (ุดูุฑู/ูุซุฑู)
- `category` - ุงููุฆุฉ (ูุฑุชุจุ ุฅูุฌุงุฑุ ูุฑุทุงุณูุฉุ ุฅูุฎ)
- `amount` - ุงููุจูุบ
- `description` - ุงููุตู
- `recipient` - ุงููุณุชูู
- `payment_method` - ุทุฑููุฉ ุงูุฏูุน
- `expense_date` - ุชุงุฑูุฎ ุงููุตุฑูู

---

### 2๏ธโฃ ุฃููุงุน ุงููุตุงุฑูู

#### ูุตุงุฑูู ุดูุฑูุฉ:
- โ ูุฑุชุจุงุช (`salary`)
- โ ุฅูุฌุงุฑุงุช (`rent`)
- โ ุฃุฑุจุงุญ ุดุฑูุงุก (`profit_share`)
- โ ูุฑุงูู (`utilities`)

#### ูุตุงุฑูู ูุซุฑูุฉ:
- โ ูุฑุทุงุณูุฉ (`stationery`)
- โ ุตูุงูุฉ (`maintenance`)
- โ ููุงุตูุงุช (`transportation`)
- โ ุงุชุตุงูุงุช (`communication`)
- โ ุฃุฎุฑู (`other`)

---

### 3๏ธโฃ APIs ุฌุฏูุฏุฉ

| ุงูุทุฑููุฉ | ุงููุณุงุฑ | ุงููุตู |
|---------|--------|-------|
| GET | `/finance/expenses/` | ูุงุฆูุฉ ุงููุตุงุฑูู |
| POST | `/finance/expenses/create/` | ุชุณุฌูู ูุตุฑูู |
| PUT | `/finance/expenses/{id}/change/` | ุชุนุฏูู ูุตุฑูู |
| DELETE | `/finance/expenses/{id}/destroy/` | ุญุฐู ูุตุฑูู |

---

### 4๏ธโฃ ููุชุฑุฉ ูุชูุฏูุฉ

```http
# ุญุณุจ ุงูููุน
?type=monthly

# ุญุณุจ ุงููุฆุฉ
?category=salary

# ุญุณุจ ุงูุดูุฑ
?month=10&year=2025

# ุจุญุซ
?search=ุฃุญูุฏ
```

---

### 5๏ธโฃ ุชุญุฏูุซ ุญุณุงุจ ุฑุฃุณ ุงููุงู

ุชู ุชุญุฏูุซ `/finance/safe/` ูุชุดูู ุงููุตุงุฑูู:

**ูุจู:**
```json
{
  "total_amount": "235000.00"
}
```

**ุจุนุฏ:**
```json
{
  "expenses_total_amount": "35500.00",  // ุฌุฏูุฏ
  "total_amount": "199500.00"           // ูุญุฏุซ
}
```

**ุงููุนุงุฏูุฉ ุงูุฌุฏูุฏุฉ:**
```
total_amount = safe + credit + inventory - debt - expenses
```

---

## ๐ ุงููููุงุช ุงููุถุงูุฉ/ุงููุนุฏูุฉ

### ูููุงุช ุฌุฏูุฏุฉ:
- โ `finance/expense_choices.py` - ุฎูุงุฑุงุช ุงููุตุงุฑูู
- โ `finance/migrations/0004_expense.py` - Migration
- โ `finance/EXPENSES_GUIDE.md` - ุฏููู ุดุงูู
- โ `EXPENSES_QUICK.md` - ููุฎุต ุณุฑูุน

### ูููุงุช ูุนุฏูุฉ:
- โ `finance/models.py` - ุฅุถุงูุฉ Expense model
- โ `finance/serializers.py` - ุฅุถุงูุฉ ExpenseSerializer + ุชุญุฏูุซ SafeSerializer
- โ `finance/views.py` - ุฅุถุงูุฉ Expense views + ุชุญุฏูุซ SafeRetrieveAPIView
- โ `finance/urls.py` - ุฅุถุงูุฉ URLs ุงููุตุงุฑูู
- โ `finance/admin.py` - ุฅุถุงูุฉ Expense admin
- โ `SAFE_QUICK.md` - ุชุญุฏูุซ ูุน ุงููุตุงุฑูู

---

## ๐ฏ ุงูููุงุฆุฏ

### 1. ุชุชุจุน ุฏููู ูููุตุงุฑูู
```
- ูุฑุชุจุงุช ุงูููุธููู
- ุงูุฅูุฌุงุฑุงุช
- ุฃุฑุจุงุญ ุงูุดุฑูุงุก
- ุงููุตุงุฑูู ุงููุซุฑูุฉ
```

### 2. ุชูุงุฑูุฑ ุดูุฑูุฉ
```
GET /finance/expenses/?month=10&year=2025

โ ุฌููุน ูุตุงุฑูู ุฃูุชูุจุฑ
```

### 3. ุชุฃุซูุฑ ุนูู ุฑุฃุณ ุงููุงู
```
ุฑุฃุณ ุงููุงู ููุญุณุจ ุจุนุฏ ุฎุตู ุงููุตุงุฑูู ุชููุงุฆูุงู
```

### 4. ูุฆุงุช ููุธูุฉ
```
9 ูุฆุงุช ูุฎุชููุฉ ูููุตุงุฑูู
ููุชุฑุฉ ุณููุฉ ูุณุฑูุนุฉ
```

---

## ๐ฑ ูุซุงู ุงุณุชุฎุฏุงู

### ุชุณุฌูู ูุตุงุฑูู ุดูุฑ ุฃูุชูุจุฑ

```http
# 1. ูุฑุชุจุงุช (15,000)
POST /finance/expenses/create/
{"type": "monthly", "category": "salary", "amount": 15000, ...}

# 2. ุฅูุฌุงุฑ (10,000)
POST /finance/expenses/create/
{"type": "monthly", "category": "rent", "amount": 10000, ...}

# 3. ุฃุฑุจุงุญ (20,000)
POST /finance/expenses/create/
{"type": "monthly", "category": "profit_share", "amount": 20000, ...}

# 4. ูุฑุทุงุณูุฉ (500)
POST /finance/expenses/create/
{"type": "misc", "category": "stationery", "amount": 500, ...}

ุฅุฌูุงูู: 45,500 ุฌููู
```

### ุนุฑุถ ุฑุฃุณ ุงููุงู

```http
GET /finance/safe/

โ {
  "expenses_total_amount": "45500.00",
  "total_amount": "189500.00"  // ุงูุฎูุถ ุจููุฏุงุฑ ุงููุตุงุฑูู
}
```

---

## ๐ ุงูุฎุทูุงุช ุงููุทููุจุฉ

### ุนูู ุงูุฎุงุฏู ุงูุจุนูุฏ:

```bash
# 1. ุณุญุจ ุงูุชุญุฏูุซุงุช
git pull origin main

# 2. ุชุดุบูู Migration
python manage.py migrate

# 3. ุฅุนุงุฏุฉ ุชุดุบูู Django
sudo systemctl restart gunicorn
```

---

## ๐ ุงูุชูุซูู

- [EXPENSES_GUIDE.md](./finance/EXPENSES_GUIDE.md) - ุฏููู ุดุงูู
- [EXPENSES_QUICK.md](./EXPENSES_QUICK.md) - ููุฎุต ุณุฑูุน
- [SAFE_QUICK.md](./SAFE_QUICK.md) - ุชุญุฏูุซ ูุน ุงููุตุงุฑูู

---

**ุขุฎุฑ ุชุญุฏูุซ**: 2025-10-10  
**ุงูุฅุตุฏุงุฑ**: 2.0.0  
**ุงูุญุงูุฉ**: โ ุฌุงูุฒ - ูุญุชุงุฌ migration

