# ุฏููู ุงูุบุฑุงูุฉ ูุงููุงุด ุจุงู
# Penalty & Cashback Guide

---

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุงูุญูุงูุฒ ูุงูุบุฑุงูุงุช ูุดุฌุน ุงูุตูุฏููุงุช ุนูู:
- โ **ุงูุฏูุน ุงููุจูุฑ** โ ูุงุด ุจุงู 0.10% ููููุงู
- โ๏ธ **ุชุฌูุจ ุงูุชุฃุฎูุฑ** โ ุบุฑุงูุฉ 0.20% ููููุงู

---

## ๐ฐ ุงูุบุฑุงูุฉ (Late Payment Penalty)

### ๐ด ูุชู ุชูุทุจูุ

ุนูุฏูุง ุชุชุฃุฎุฑ ุงูุตูุฏููุฉ ุนู ููุนุฏ ุงูุฏูุน ุงููุญุฏุฏ:
```
is_overdue = true
days_until_collection < 0
```

---

### ๐ ููู ุชูุญุณุจุ

```
penalty_amount = outstanding_balance ร penalty_percentage ร late_days รท 100
```

**ุญูุซ:**
- `outstanding_balance` = ุงููุจูุบ ุงููุณุชุญู
- `penalty_percentage` = ูุณุจุฉ ุงูุบุฑุงูุฉ ุงูููููุฉ (ุงูุชุฑุงุถู: 0.20%)
- `late_days` = ุนุฏุฏ ุฃูุงู ุงูุชุฃุฎูุฑ

---

### ๐ ุฃูุซูุฉ ุนูููุฉ

#### ูุซุงู 1: ุชุฃุฎูุฑ ููููู

```
ุงููุจูุบ ุงููุณุชุญู: 8,000 ุฌููู
ูุณุจุฉ ุงูุบุฑุงูุฉ: 0.20% ููููุงู
ุนุฏุฏ ุฃูุงู ุงูุชุฃุฎูุฑ: 2 ููู

ุงูุญุณุงุจ:
penalty_amount = 8,000 ร 0.20 ร 2 รท 100
penalty_amount = 32 ุฌููู

ุงูุฅุฌูุงูู ุงููุทููุจ:
total_with_penalty = 8,000 + 32 = 8,032 ุฌููู
```

---

#### ูุซุงู 2: ุชุฃุฎูุฑ ุฃุณุจูุน

```
ุงููุจูุบ ุงููุณุชุญู: 15,000 ุฌููู
ูุณุจุฉ ุงูุบุฑุงูุฉ: 0.20% ููููุงู
ุนุฏุฏ ุฃูุงู ุงูุชุฃุฎูุฑ: 7 ุฃูุงู

ุงูุญุณุงุจ:
penalty_amount = 15,000 ร 0.20 ร 7 รท 100
penalty_amount = 210 ุฌููู

ุงูุฅุฌูุงูู ุงููุทููุจ:
total_with_penalty = 15,000 + 210 = 15,210 ุฌููู
```

---

#### ูุซุงู 3: ุชุฃุฎูุฑ ุดูุฑ

```
ุงููุจูุบ ุงููุณุชุญู: 20,000 ุฌููู
ูุณุจุฉ ุงูุบุฑุงูุฉ: 0.20% ููููุงู
ุนุฏุฏ ุฃูุงู ุงูุชุฃุฎูุฑ: 30 ููู

ุงูุญุณุงุจ:
penalty_amount = 20,000 ร 0.20 ร 30 รท 100
penalty_amount = 1,200 ุฌููู

ุงูุฅุฌูุงูู ุงููุทููุจ:
total_with_penalty = 20,000 + 1,200 = 21,200 ุฌููู
```

---

### ๐ ุฌุฏูู ุงูุบุฑุงูุงุช

| ุฃูุงู ุงูุชุฃุฎูุฑ | ุบุฑุงูุฉ ุนูู 10,000 ุฌ | ุบุฑุงูุฉ ุนูู 20,000 ุฌ |
|--------------|-------------------|-------------------|
| 1 ููู | 20 ุฌ | 40 ุฌ |
| 2 ููู | 40 ุฌ | 80 ุฌ |
| 3 ุฃูุงู | 60 ุฌ | 120 ุฌ |
| 7 ุฃูุงู | 140 ุฌ | 280 ุฌ |
| 14 ููู | 280 ุฌ | 560 ุฌ |
| 30 ููู | 600 ุฌ | 1,200 ุฌ |

---

## ๐ ุงููุงุด ุจุงู (Early Payment Cashback)

### ๐ข ูุชู ููุทุจูุ

ุนูุฏูุง ุชุฏูุน ุงูุตูุฏููุฉ ูุจู ููุนุฏ ุงูุงุณุชุญูุงู:
```
is_overdue = false
days_until_collection > 0
```

---

### ๐ ููู ููุญุณุจุ

```
cashback_amount = outstanding_balance ร cashback_percentage ร early_days รท 100
```

**ุญูุซ:**
- `outstanding_balance` = ุงููุจูุบ ุงููุณุชุญู
- `cashback_percentage` = ูุณุจุฉ ุงููุงุด ุจุงู ุงูููููุฉ (ุงูุชุฑุงุถู: 0.10%)
- `early_days` = ุนุฏุฏ ุงูุฃูุงู ูุจู ุงูููุนุฏ

---

### ๐ ุฃูุซูุฉ ุนูููุฉ

#### ูุซุงู 1: ุฏูุน ูุจู ุงูููุนุฏ ุจู 3 ุฃูุงู

```
ุงููุจูุบ ุงููุณุชุญู: 10,000 ุฌููู
ูุณุจุฉ ุงููุงุด ุจุงู: 0.10% ููููุงู
ุนุฏุฏ ุงูุฃูุงู ูุจู ุงูููุนุฏ: 3 ุฃูุงู

ุงูุญุณุงุจ:
cashback_amount = 10,000 ร 0.10 ร 3 รท 100
cashback_amount = 30 ุฌููู

ุงููุทููุจ ุจุนุฏ ุงููุงุด ุจุงู:
total_with_cashback = 10,000 - 30 = 9,970 ุฌููู
```

---

#### ูุซุงู 2: ุฏูุน ูุจู ุงูููุนุฏ ุจุฃุณุจูุน

```
ุงููุจูุบ ุงููุณุชุญู: 15,000 ุฌููู
ูุณุจุฉ ุงููุงุด ุจุงู: 0.10% ููููุงู
ุนุฏุฏ ุงูุฃูุงู ูุจู ุงูููุนุฏ: 7 ุฃูุงู

ุงูุญุณุงุจ:
cashback_amount = 15,000 ร 0.10 ร 7 รท 100
cashback_amount = 105 ุฌููู

ุงููุทููุจ ุจุนุฏ ุงููุงุด ุจุงู:
total_with_cashback = 15,000 - 105 = 14,895 ุฌููู
```

---

#### ูุซุงู 3: ุฏูุน ูุจู ุงูููุนุฏ ุจู 10 ุฃูุงู

```
ุงููุจูุบ ุงููุณุชุญู: 20,000 ุฌููู
ูุณุจุฉ ุงููุงุด ุจุงู: 0.10% ููููุงู
ุนุฏุฏ ุงูุฃูุงู ูุจู ุงูููุนุฏ: 10 ุฃูุงู

ุงูุญุณุงุจ:
cashback_amount = 20,000 ร 0.10 ร 10 รท 100
cashback_amount = 200 ุฌููู

ุงููุทููุจ ุจุนุฏ ุงููุงุด ุจุงู:
total_with_cashback = 20,000 - 200 = 19,800 ุฌููู
```

---

### ๐ ุฌุฏูู ุงููุงุด ุจุงู

| ุฃูุงู ูุจู ุงูููุนุฏ | ูุงุด ุจุงู ุนูู 10,000 ุฌ | ูุงุด ุจุงู ุนูู 20,000 ุฌ |
|----------------|---------------------|---------------------|
| 1 ููู | 10 ุฌ | 20 ุฌ |
| 2 ููู | 20 ุฌ | 40 ุฌ |
| 3 ุฃูุงู | 30 ุฌ | 60 ุฌ |
| 5 ุฃูุงู | 50 ุฌ | 100 ุฌ |
| 7 ุฃูุงู | 70 ุฌ | 140 ุฌ |
| 10 ุฃูุงู | 100 ุฌ | 200 ุฌ |

---

## โช ุงูุฏูุน ูู ุงูููุนุฏ

ุนูุฏูุง ุชุฏูุน ุงูุตูุฏููุฉ ูู ุงูููุนุฏ ุงููุญุฏุฏ ุชูุงูุงู:
```
days_until_collection = 0
```

**ูุง ุชูุฌุฏ ุบุฑุงูุฉ ููุง ูุงุด ุจุงู:**
```
penalty_amount = 0
cashback_amount = 0
total = outstanding_balance
```

---

## ๐ฏ ููุงุฑูุฉ ุดุงููุฉ

### ูุซุงู: ูุจูุบ ูุณุชุญู 10,000 ุฌููู

| ุงูุณููุงุฑูู | ุงูุฃูุงู | ุงูุบุฑุงูุฉ/ุงููุงุด ุจุงู | ุงูุฅุฌูุงูู ุงููุทููุจ |
|-----------|--------|-------------------|------------------|
| ูุชุฃุฎุฑ 7 ุฃูุงู | -7 | ุบุฑุงูุฉ: 140 ุฌ | 10,140 ุฌ |
| ูุชุฃุฎุฑ 3 ุฃูุงู | -3 | ุบุฑุงูุฉ: 60 ุฌ | 10,060 ุฌ |
| ูุชุฃุฎุฑ ููู ูุงุญุฏ | -1 | ุบุฑุงูุฉ: 20 ุฌ | 10,020 ุฌ |
| **ูู ุงูููุนุฏ** | **0** | **ูุง ุดูุก** | **10,000 ุฌ** |
| ูุจูุฑ ููู ูุงุญุฏ | +1 | ูุงุด ุจุงู: 10 ุฌ | 9,990 ุฌ |
| ูุจูุฑ 3 ุฃูุงู | +3 | ูุงุด ุจุงู: 30 ุฌ | 9,970 ุฌ |
| ูุจูุฑ 7 ุฃูุงู | +7 | ูุงุด ุจุงู: 70 ุฌ | 9,930 ุฌ |

---

## โ๏ธ ุฅุนุฏุงุฏุงุช ุงููุณุจ

### ุงููุณุจ ุงูุงูุชุฑุงุถูุฉ

```python
late_payment_penalty_percentage = 0.20%  # ุบุฑุงูุฉ ุงูุชุฃุฎูุฑ
early_payment_cashback_percentage = 0.10%  # ูุงุด ุจุงู ุงูุฏูุน ุงููุจูุฑ
```

---

### ุชุฎุตูุต ุงููุณุจ ููู ุตูุฏููุฉ

ูููู ุชุนุฏูู ุงููุณุจ ูู ุงูุจุฑููุงูู:

**ุงูุญููู:**
- `late_payment_penalty_percentage`
- `early_payment_cashback_percentage`

**ูุซุงู:**
```python
# ุตูุฏููุฉ VIP - ูุณุจ ุชุญููุฒูุฉ ุฃูุถู
pharmacy.profile.late_payment_penalty_percentage = 0.15  # ุบุฑุงูุฉ ุฃูู
pharmacy.profile.early_payment_cashback_percentage = 0.15  # ูุงุด ุจุงู ุฃุนูู

# ุตูุฏููุฉ ุนุงุฏูุฉ - ุงููุณุจ ุงูุงูุชุฑุงุถูุฉ
pharmacy.profile.late_payment_penalty_percentage = 0.20
pharmacy.profile.early_payment_cashback_percentage = 0.10
```

---

## ๐ฑ ูู ุงูู API

### ุงูุญุตูู ุนูู ุงูุจูุงูุงุช

```http
GET http://129.212.140.152/finance/collection-schedule/
```

**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "user_id": 7,
  "customer_name": "ุตูุฏููุฉ ุงูุดูุงุก",
  "outstanding_balance": "8000.00",
  "days_until_collection": -2,
  "is_overdue": true,
  
  "penalty_percentage": "0.20",
  "penalty_amount": "32.00",
  "total_with_penalty": "8032.00",
  
  "cashback_percentage": "0.10",
  "cashback_amount": "0.00",
  "total_with_cashback": "8000.00"
}
```

---

## ๐จ ุนุฑุถ ูู ุงููุงุฌูุฉ

### ูุซุงู 1: ุตูุฏููุฉ ูุชุฃุฎุฑุฉ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
ุตูุฏููุฉ ุงูุดูุงุก
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ด ูุชุฃุฎุฑ ุจู 2 ููู

ุงููุจูุบ ุงูุฃุตูู:    8,000 ุฌ
ุบุฑุงูุฉ ุงูุชุฃุฎูุฑ:      +32 ุฌ (0.20% ร 2 ููู)
โโโโโโโโโโโโโโโโโโโโโโโโโโ
ุงูุฅุฌูุงูู ุงููุทููุจ: 8,032 ุฌ
```

---

### ูุซุงู 2: ุตูุฏููุฉ ูุจูุฑุฉ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
ุตูุฏููุฉ ุงูููุฑ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ข ูุจูุฑ ุจู 5 ุฃูุงู

ุงููุจูุบ ุงูุฃุตูู:    15,000 ุฌ
ูุงุด ุจุงู:             -75 ุฌ (0.10% ร 5 ุฃูุงู)
โโโโโโโโโโโโโโโโโโโโโโโโโโ
ุงูุฅุฌูุงูู ุงููุทููุจ: 14,925 ุฌ
```

---

## ๐ ุชูุงุฑูุฑ ูุฅุญุตุงุฆูุงุช

### ุฅุฌูุงูู ุงูุบุฑุงูุงุช

```python
total_penalties = sum([
    item['penalty_amount'] 
    for item in data['results'] 
    if item['is_overdue']
])
```

---

### ุฅุฌูุงูู ุงููุงุด ุจุงู

```python
total_cashback = sum([
    item['cashback_amount'] 
    for item in data['results'] 
    if not item['is_overdue'] and item['days_until_collection'] > 0
])
```

---

### ุชูุฑูุฑ ุดูุฑู

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      ุชูุฑูุฑ ุงูุบุฑุงูุงุช ูุงููุงุด ุจุงู
            ุดูุฑ ุฃูุชูุจุฑ 2025
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

ุงูุตูุฏููุงุช ุงููุชุฃุฎุฑุฉ:     8
ุฅุฌูุงูู ุงูุบุฑุงูุงุช:        520 ุฌ

ุงูุตูุฏููุงุช ุงููุจูุฑุฉ:      15
ุฅุฌูุงูู ุงููุงุด ุจุงู:       375 ุฌ

ุตุงูู ุงููุฑู:            +145 ุฌ
```

---

## ๐ก ูุตุงุฆุญ ููุงุณุชุฎุฏุงู

### 1. ููุตูุฏููุงุช

```
โ ุงุฏูุน ูุจูุฑุงู โ ุงุญุตู ุนูู ูุงุด ุจุงู
โ๏ธ ุชุฌูุจ ุงูุชุฃุฎูุฑ โ ุชุฌูุจ ุงูุบุฑุงูุงุช
๐ ุงูุฏูุน ูู ุงูููุนุฏ โ ูุง ุบุฑุงูุฉ ููุง ูุงุด ุจุงู
```

---

### 2. ููุฅุฏุงุฑุฉ

```
โ ุฑุงูุจ ุงูุตูุฏููุงุช ุงููุชุฃุฎุฑุฉ ุจุงุณุชูุฑุงุฑ
โ ุญููุฒ ุงูุฏูุน ุงููุจูุฑ ุจุฒูุงุฏุฉ ูุณุจุฉ ุงููุงุด ุจุงู
โ ุงุณุชุฎุฏู ุงูุบุฑุงูุงุช ููุณููุฉ ุฑุงุฏุนุฉ
โ ูู ูุฑูุงู ูุน ุงูุตูุฏููุงุช ุงูููุชุธูุฉ
```

---

### 3. ูููุญุงุณุจุฉ

```
โ ุณุฌู ุงูุบุฑุงูุงุช ุจุดูู ูููุตู
โ ุณุฌู ุงููุงุด ุจุงู ูู ุงูุญุณุงุจุงุช
โ ุฑุงุฌุน ุงูุชูุงุฑูุฑ ุดูุฑูุงู
โ ุญูู ุฃููุงุท ุงูุฏูุน
```

---

## ๐ ุฃูุซูุฉ ููุฏ

### Python

```python
# ุญุณุงุจ ุงูุบุฑุงูุฉ
def calculate_penalty(balance, days_late, rate=0.20):
    return (balance * rate * days_late) / 100

# ุญุณุงุจ ุงููุงุด ุจุงู
def calculate_cashback(balance, days_early, rate=0.10):
    return (balance * rate * days_early) / 100

# ูุซุงู
balance = 10000
days_late = 5
penalty = calculate_penalty(balance, days_late)
print(f"Penalty: {penalty} ุฌ")  # Output: 100.0 ุฌ
```

---

### JavaScript

```javascript
// ุญุณุงุจ ุงูุบุฑุงูุฉ
function calculatePenalty(balance, daysLate, rate = 0.20) {
  return (balance * rate * daysLate) / 100;
}

// ุญุณุงุจ ุงููุงุด ุจุงู
function calculateCashback(balance, daysEarly, rate = 0.10) {
  return (balance * rate * daysEarly) / 100;
}

// ูุซุงู
const balance = 10000;
const daysEarly = 7;
const cashback = calculateCashback(balance, daysEarly);
console.log(`Cashback: ${cashback} ุฌ`);  // Output: 70 ุฌ
```

---

## โ ุงูุฎูุงุตุฉ

### ุงูุบุฑุงูุฉ (Penalty)

```
ูุชู: ุนูุฏ ุงูุชุฃุฎูุฑ (days_until_collection < 0)
ููู: 0.20% ููููุงู
ูุซุงู: 8,000 ุฌ ร 0.20% ร 2 ููู = 32 ุฌ
```

---

### ุงููุงุด ุจุงู (Cashback)

```
ูุชู: ุนูุฏ ุงูุฏูุน ุงููุจูุฑ (days_until_collection > 0)
ููู: 0.10% ููููุงู
ูุซุงู: 15,000 ุฌ ร 0.10% ร 5 ุฃูุงู = 75 ุฌ
```

---

### ุงูุฏูุน ูู ุงูููุนุฏ

```
ูุชู: days_until_collection = 0
ุงูุญุณุงุจ: ูุง ุบุฑุงูุฉ ููุง ูุงุด ุจุงู
```

---

**ุขุฎุฑ ุชุญุฏูุซ**: 2025-10-10  
**ุงูุฅุตุฏุงุฑ**: 1.0.0  
**ุงูุญุงูุฉ**: โ ุฌุงูุฒ ููุนูู

