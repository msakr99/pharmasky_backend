# ุฏููู ูุธุงู ุงููุตุงุฑูู
# Expenses System Guide

## ๐ธ ูุธุงู ุงููุตุงุฑูู ุงูุดูุฑูุฉ ูุงููุซุฑูุฉ

ุชู ุฅุถุงูุฉ ูุธุงู ูุงูู ูุชุณุฌูู ูุชุชุจุน ุงููุตุงุฑูู!

---

## ๐ฏ ุฃููุงุน ุงููุตุงุฑูู

### 1๏ธโฃ ูุตุงุฑูู ุดูุฑูุฉ (Monthly)

ูุตุงุฑูู ุซุงุจุชุฉ ุชุชูุฑุฑ ูู ุดูุฑ:

| ุงููุฆุฉ | ุงูููุฏ | ุงููุตู |
|-------|-------|-------|
| **ูุฑุชุจุงุช** | `salary` | ุฑูุงุชุจ ุงูููุธููู |
| **ุฅูุฌุงุฑ** | `rent` | ุฅูุฌุงุฑ ุงูููุงู |
| **ุฃุฑุจุงุญ ุดุฑูุงุก** | `profit_share` | ุฃุฑุจุงุญ ููุดุฑูุงุก/ุงููุณุชุซูุฑูู |
| **ูุฑุงูู** | `utilities` | ููุฑุจุงุกุ ููุงูุ ุบุงุฒุ ุฅูุฎ |

---

### 2๏ธโฃ ูุตุงุฑูู ูุซุฑูุฉ (Miscellaneous)

ูุตุงุฑูู ูุชุบูุฑุฉ ุญุณุจ ุงูุญุงุฌุฉ:

| ุงููุฆุฉ | ุงูููุฏ | ุงููุตู |
|-------|-------|-------|
| **ูุฑุทุงุณูุฉ** | `stationery` | ูุฑูุ ุฏูุงุชุฑุ ุฃููุงู |
| **ุตูุงูุฉ** | `maintenance` | ุฅุตูุงุญุงุชุ ุตูุงูุฉ |
| **ููุงุตูุงุช** | `transportation` | ุจูุฒููุ ููุงุตูุงุช |
| **ุงุชุตุงูุงุช** | `communication` | ุชูููููุ ุฅูุชุฑูุช |
| **ุฃุฎุฑู** | `other` | ุฃู ูุตุงุฑูู ุฃุฎุฑู |

---

## โ ุฅุถุงูุฉ ูุตุฑูู

### ูุตุฑูู ุดูุฑู (ูุฑุชุจ)

```http
POST http://129.212.140.152/finance/expenses/create/
{
  "type": "monthly",           // ูุตุฑูู ุดูุฑู
  "category": "salary",        // ูุฑุชุจ
  "amount": 5000,
  "description": "ูุฑุชุจ ุดูุฑ ุฃูุชูุจุฑ",
  "recipient": "ุฃุญูุฏ ูุญูุฏ - ูุญุงุณุจ",
  "payment_method": "cash",
  "expense_date": "2025-10-01"
}
```

---

### ูุตุฑูู ุดูุฑู (ุฅูุฌุงุฑ)

```http
POST http://129.212.140.152/finance/expenses/create/
{
  "type": "monthly",
  "category": "rent",
  "amount": 10000,
  "description": "ุฅูุฌุงุฑ ุดูุฑ ุฃูุชูุจุฑ",
  "recipient": "ุตุงุญุจ ุงูุนูุงุฑ",
  "payment_method": "cash",
  "expense_date": "2025-10-01"
}
```

---

### ูุตุฑูู ุดูุฑู (ุฃุฑุจุงุญ ุดุฑูุงุก)

```http
POST http://129.212.140.152/finance/expenses/create/
{
  "type": "monthly",
  "category": "profit_share",
  "amount": 15000,
  "description": "ุฃุฑุจุงุญ ุดูุฑ ุณุจุชูุจุฑ",
  "recipient": "ูุญูุฏ ุนูู - ุดุฑูู",
  "payment_method": "instapay",
  "expense_date": "2025-10-05"
}
```

---

### ูุตุฑูู ูุซุฑู (ูุฑุทุงุณูุฉ)

```http
POST http://129.212.140.152/finance/expenses/create/
{
  "type": "misc",
  "category": "stationery",
  "amount": 500,
  "description": "ุฏูุงุชุฑ ูุฃููุงู",
  "recipient": "ููุชุจุฉ ุงูููุฑ",
  "payment_method": "cash",
  "expense_date": "2025-10-08"
}
```

---

### ูุตุฑูู ูุซุฑู (ุตูุงูุฉ)

```http
POST http://129.212.140.152/finance/expenses/create/
{
  "type": "misc",
  "category": "maintenance",
  "amount": 2000,
  "description": "ุฅุตูุงุญ ุงูุชูููู",
  "recipient": "ูุฑุดุฉ ุงูุตูุงูุฉ",
  "payment_method": "cash",
  "expense_date": "2025-10-10"
}
```

---

## ๐ ุนุฑุถ ุงููุตุงุฑูู

### ุฌููุน ุงููุตุงุฑูู

```http
GET http://129.212.140.152/finance/expenses/
```

**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "count": 5,
  "results": [
    {
      "id": 1,
      "type": "monthly",
      "type_label": "Monthly",
      "category": "salary",
      "category_label": "Salary",
      "amount": "5000.00",
      "description": "ูุฑุชุจ ุดูุฑ ุฃูุชูุจุฑ",
      "recipient": "ุฃุญูุฏ ูุญูุฏ - ูุญุงุณุจ",
      "payment_method": "cash",
      "payment_method_label": "Cash",
      "expense_date": "2025-10-01",
      "created_at": "2025-10-01T08:00:00Z"
    }
  ]
}
```

---

## ๐ ุงูููุชุฑุฉ ูุงูุจุญุซ

### ุญุณุจ ุงูููุน (ุดูุฑูุฉ/ูุซุฑูุฉ)

```http
# ูุตุงุฑูู ุดูุฑูุฉ ููุท
GET /finance/expenses/?type=monthly

# ูุตุงุฑูู ูุซุฑูุฉ ููุท
GET /finance/expenses/?type=misc
```

---

### ุญุณุจ ุงููุฆุฉ

```http
# ุงููุฑุชุจุงุช ููุท
GET /finance/expenses/?category=salary

# ุงูุฅูุฌุงุฑุงุช ููุท
GET /finance/expenses/?category=rent

# ุงููุฑุทุงุณูุฉ ููุท
GET /finance/expenses/?category=stationery
```

---

### ุญุณุจ ุงูุดูุฑ

```http
# ูุตุงุฑูู ุดูุฑ ุฃูุชูุจุฑ 2025
GET /finance/expenses/?month=10&year=2025

# ูุตุงุฑูู ุดูุฑ ุณุจุชูุจุฑ 2025
GET /finance/expenses/?month=9&year=2025
```

---

### ุจุญุซ ูู ุงููุตู ุฃู ุงููุณุชูู

```http
# ุจุญุซ ุนู "ุฃุญูุฏ"
GET /finance/expenses/?search=ุฃุญูุฏ

# ุจุญุซ ุนู "ุฅุตูุงุญ"
GET /finance/expenses/?search=ุฅุตูุงุญ
```

---

### ุงูุชุฑุชูุจ

```http
# ุญุณุจ ุงูุชุงุฑูุฎ (ุงูุฃุญุฏุซ ุฃููุงู)
GET /finance/expenses/?o=-expense_date

# ุญุณุจ ุงููุจูุบ (ุงูุฃูุจุฑ ุฃููุงู)
GET /finance/expenses/?o=-amount

# ุญุณุจ ุงููุฆุฉ
GET /finance/expenses/?o=category
```

---

## ๐ฐ ุงูุชุฃุซูุฑ ุนูู ุฑุฃุณ ุงููุงู

### ูุจู ุฅุถุงูุฉ ุงููุตุงุฑูู

```http
GET /finance/safe/
```

```json
{
  "safe_total_amount": "125000.00",
  "credit_total_amount": "45000.00",
  "debt_total_amount": "20000.00",
  "inventory_total_amount": "85000.00",
  "total_amount": "235000.00"
}
```

**ุงูุญุณุงุจ:**
```
235,000 = 125,000 + 45,000 + 85,000 - 20,000
```

---

### ุจุนุฏ ุฅุถุงูุฉ ูุตุงุฑูู

```
ุณุฌูุช ูุตุงุฑูู:
- ูุฑุชุจุงุช: 5,000
- ุฅูุฌุงุฑ: 10,000
- ูุฑุทุงุณูุฉ: 500
= 15,500 ุฌููู
```

```http
GET /finance/safe/
```

```json
{
  "safe_total_amount": "125000.00",
  "credit_total_amount": "45000.00",
  "debt_total_amount": "20000.00",
  "inventory_total_amount": "85000.00",
  "expenses_total_amount": "15500.00",      // โฌ๏ธ ุฌุฏูุฏ
  "total_amount": "219500.00"               // โฌ๏ธ ูู ุจููุฏุงุฑ ุงููุตุงุฑูู
}
```

**ุงูุญุณุงุจ ุงูุฌุฏูุฏ:**
```
ุฑุฃุณ ุงููุงู = ูุงุด + ุฏููู ููู + ูุฎุฒูู - ุฏููู ุนููู - ูุตุงุฑูู

219,500 = 125,000 + 45,000 + 85,000 - 20,000 - 15,500  โ
```

---

## ๐ ุชูุงุฑูุฑ ุงููุตุงุฑูู

### ุชูุฑูุฑ ุดูุฑู

```http
GET /finance/expenses/?month=10&year=2025
```

**ูุนุฑุถ:**
- ุฌููุน ูุตุงุฑูู ุดูุฑ ุฃูุชูุจุฑ 2025
- ูุฌููุนูุง ุงูุชููุงุฆู ูู `count`

---

### ุชูุฑูุฑ ุญุณุจ ุงูููุน

```http
# ุงููุตุงุฑูู ุงูุดูุฑูุฉ
GET /finance/expenses/?type=monthly

# ุงููุตุงุฑูู ุงููุซุฑูุฉ
GET /finance/expenses/?type=misc
```

---

### ุชูุฑูุฑ ุงููุฑุชุจุงุช

```http
GET /finance/expenses/?category=salary&month=10&year=2025
```

ูุฑุชุจุงุช ุดูุฑ ุฃูุชูุจุฑ

---

## ๐ ุงูุชุญุฏูุซ ูุงูุญุฐู

### ุชุนุฏูู ูุตุฑูู

```http
PUT /finance/expenses/{id}/change/
{
  "amount": 5500,
  "description": "ูุฑุชุจ ุฃูุชูุจุฑ (ูุญุฏุซ)"
}
```

---

### ุญุฐู ูุตุฑูู

```http
DELETE /finance/expenses/{id}/destroy/
```

---

## ๐ ุฃูุซูุฉ ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู

### 1. ุชุณุฌูู ูุฑุชุจุงุช ุดูุฑ ุฃูุชูุจุฑ

```http
# ุงูููุธู ุงูุฃูู
POST /finance/expenses/create/
{
  "type": "monthly",
  "category": "salary",
  "amount": 5000,
  "recipient": "ุฃุญูุฏ ูุญูุฏ",
  "payment_method": "cash",
  "expense_date": "2025-10-01"
}

# ุงูููุธู ุงูุซุงูู
POST /finance/expenses/create/
{
  "type": "monthly",
  "category": "salary",
  "amount": 4000,
  "recipient": "ูุงุทูุฉ ุนูู",
  "payment_method": "instapay",
  "expense_date": "2025-10-01"
}
```

---

### 2. ุชุณุฌูู ุฅูุฌุงุฑ ุงูุดูุฑ

```http
POST /finance/expenses/create/
{
  "type": "monthly",
  "category": "rent",
  "amount": 10000,
  "recipient": "ุตุงุญุจ ุงูุนูุงุฑ",
  "payment_method": "cash",
  "expense_date": "2025-10-01"
}
```

---

### 3. ุชุณุฌูู ุฃุฑุจุงุญ ุงูุดุฑูุงุก

```http
POST /finance/expenses/create/
{
  "type": "monthly",
  "category": "profit_share",
  "amount": 20000,
  "description": "ุฃุฑุจุงุญ ุดูุฑ ุณุจุชูุจุฑ",
  "recipient": "ุงูุดุฑูู: ูุญูุฏ ุนูู",
  "payment_method": "instapay",
  "expense_date": "2025-10-05"
}
```

---

### 4. ุชุณุฌูู ูุฑุทุงุณูุฉ

```http
POST /finance/expenses/create/
{
  "type": "misc",
  "category": "stationery",
  "amount": 300,
  "description": "ุฏูุงุชุฑ ูุฃููุงู",
  "recipient": "ููุชุจุฉ ุงูููุฑ",
  "payment_method": "cash",
  "expense_date": "2025-10-08"
}
```

---

### 5. ุชูุฑูุฑ ูุตุงุฑูู ุงูุดูุฑ

```http
GET /finance/expenses/?month=10&year=2025&o=-amount
```

ูู ูุตุงุฑูู ุฃูุชูุจุฑุ ูุฑุชุจุฉ ูู ุงูุฃูุจุฑ ููุฃุตุบุฑ

---

## ๐ฏ APIs ุงููุชุงุญุฉ

| ุงูุทุฑููุฉ | ุงููุณุงุฑ | ุงููุตู |
|---------|--------|-------|
| GET | `/finance/expenses/` | ูุงุฆูุฉ ุงููุตุงุฑูู |
| POST | `/finance/expenses/create/` | ุชุณุฌูู ูุตุฑูู |
| PUT | `/finance/expenses/{id}/change/` | ุชุนุฏูู ูุตุฑูู |
| DELETE | `/finance/expenses/{id}/destroy/` | ุญุฐู ูุตุฑูู |

---

## ๐ ุฑุฃุณ ุงููุงู ูุน ุงููุตุงุฑูู

```http
GET /finance/safe/
```

```json
{
  "safe_total_amount": "125000.00",        // ุงููุงุด
  "credit_total_amount": "45000.00",       // ููู
  "debt_total_amount": "20000.00",         // ุนููู
  "inventory_total_amount": "85000.00",    // ุงููุฎุฒูู
  "expenses_total_amount": "35500.00",     // โฌ๏ธ ุงููุตุงุฑูู
  "total_amount": "199500.00"              // โฌ๏ธ ุฑุฃุณ ุงููุงู ุงูููุงุฆู
}
```

**ุงููุนุงุฏูุฉ:**
```
199,500 = 125,000 + 45,000 + 85,000 - 20,000 - 35,500

ุฑุฃุณ ุงููุงู = ูุงุด + ุฏููู ููู + ูุฎุฒูู - ุฏููู ุนููู - ูุตุงุฑูู
```

---

## ๐ก ุญุงูุงุช ุงุณุชุฎุฏุงู

### ุงูุณููุงุฑูู 1: ุจุฏุงูุฉ ุงูุดูุฑ

```http
# 1. ุชุณุฌูู ูุฑุชุจุงุช
POST /finance/expenses/create/
{"type": "monthly", "category": "salary", "amount": 15000, ...}

# 2. ุชุณุฌูู ุฅูุฌุงุฑ
POST /finance/expenses/create/
{"type": "monthly", "category": "rent", "amount": 10000, ...}

# 3. ุชุณุฌูู ุฃุฑุจุงุญ ุดุฑูุงุก
POST /finance/expenses/create/
{"type": "monthly", "category": "profit_share", "amount": 20000, ...}
```

**ุฅุฌูุงูู ุงููุตุงุฑูู ุงูุดูุฑูุฉ:** 45,000 ุฌููู

---

### ุงูุณููุงุฑูู 2: ุฎูุงู ุงูุดูุฑ

```http
# ูุตุงุฑูู ูุซุฑูุฉ ูุชูุฑูุฉ
POST /finance/expenses/create/
{"type": "misc", "category": "stationery", "amount": 300, ...}

POST /finance/expenses/create/
{"type": "misc", "category": "maintenance", "amount": 1500, ...}

POST /finance/expenses/create/
{"type": "misc", "category": "other", "amount": 500, ...}
```

**ุฅุฌูุงูู ุงููุตุงุฑูู ุงููุซุฑูุฉ:** 2,300 ุฌููู

---

### ุงูุณููุงุฑูู 3: ุชูุฑูุฑ ููุงูุฉ ุงูุดูุฑ

```http
GET /finance/expenses/?month=10&year=2025
```

**ุงููุชูุฌุฉ:**
- ุฅุฌูุงูู ุงููุตุงุฑูู: 47,300 ุฌููู
  - ุดูุฑูุฉ: 45,000 ุฌููู
  - ูุซุฑูุฉ: 2,300 ุฌููู

---

## ๐จ ุทุฑู ุงูุฏูุน

| ุงูุทุฑููุฉ | ูุชู ุชุณุชุฎุฏู |
|---------|-----------|
| `cash` | ุฏูุน ูุงุด โ ูุฎุตู ูู ุงูุฎุฒูุฉ |
| `instapay` | ุชุญููู ุจููู |
| `wallet` | ูุญูุธุฉ ุฅููุชุฑูููุฉ |
| `product` | ููุงูุถุฉ ุจููุชุฌุงุช |

---

## โ ุงูููุฒุงุช

1. **ุชุณุฌูู ุชููุงุฆู ูููุตุงุฑูู**
2. **ูุญุณุจ ูู ุฑุฃุณ ุงููุงู**
3. **ุชูุงุฑูุฑ ุดูุฑูุฉ**
4. **ููุชุฑุฉ ุญุณุจ ุงูููุน ูุงููุฆุฉ**
5. **ุจุญุซ ูู ุงููุตู ูุงููุณุชูู**
6. **ุชุชุจุน ุทุฑููุฉ ุงูุฏูุน**

---

## ๐ฑ ูุซุงู JavaScript

```javascript
// ุชุณุฌูู ูุฑุชุจ
const addSalary = async () => {
  await fetch('http://129.212.140.152/finance/expenses/create/', {
    method: 'POST',
    headers: {
      'Authorization': 'Token your-token',
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      type: 'monthly',
      category: 'salary',
      amount: 5000,
      description: 'ูุฑุชุจ ุฃูุชูุจุฑ',
      recipient: 'ุฃุญูุฏ ูุญูุฏ',
      payment_method: 'cash',
      expense_date: '2025-10-01'
    })
  });
};

// ุนุฑุถ ูุตุงุฑูู ุงูุดูุฑ
const getMonthExpenses = async (month, year) => {
  const response = await fetch(
    `http://129.212.140.152/finance/expenses/?month=${month}&year=${year}`,
    {
      headers: {'Authorization': 'Token your-token'}
    }
  );
  const data = await response.json();
  
  // ุญุณุงุจ ุงูุฅุฌูุงูู
  const total = data.results.reduce((sum, exp) => sum + parseFloat(exp.amount), 0);
  console.log(`ุฅุฌูุงูู ูุตุงุฑูู ${month}/${year}: ${total} ุฌููู`);
};
```

---

## ๐ฏ ุฎูุงุตุฉ ุณุฑูุนุฉ

### ุฅุถุงูุฉ ูุตุฑูู:
```http
POST /finance/expenses/create/
{
  "type": "monthly" ุฃู "misc",
  "category": "salary/rent/stationery/other",
  "amount": 5000,
  "recipient": "ุงูุงุณู",
  "payment_method": "cash",
  "expense_date": "2025-10-10"
}
```

### ุนุฑุถ ุฑุฃุณ ุงููุงู:
```http
GET /finance/safe/
```

ุณุชุฑู ุงููุตุงุฑูู ูุฎุตููุฉ ูู `total_amount` โ

---

**ุขุฎุฑ ุชุญุฏูุซ**: 2025-10-10  
**ุงูุฅุตุฏุงุฑ**: 2.0.0  
**ุงูุญุงูุฉ**: โ ุฌุงูุฒ ููุนูู

