# ููุงุฑูุฉ ุจูู ุงูุนุฑูุถ ุงูุนุงุฏูุฉ ูุนุฑูุถ ุงูุฌููุฉ

## ุฌุฏูู ุงูููุงุฑูุฉ ุงูุณุฑูุนุฉ

| ุงูููุฒุฉ | ุงูุนุฑูุถ ุงูุนุงุฏูุฉ | ุนุฑูุถ ุงูุฌููุฉ |
|--------|----------------|--------------|
| **ุงูุญูู** | `is_max=True` | `is_max_wholesale=True` |
| **API** | `/max-offers/` | `/max-wholesale-offers/` |
| **ุงูุดุฑุท** | ุฃู ูุชุฌุฑ | `company=True` ููุท |
| **ุงูุญุฏ ุงูุฃุฏูู** | `min_purchase` (ูุจูุบ) | `wholesale_min_quantity` (ุนุฏุฏ ุนูุจ) |
| **ุงูุฒูุงุฏุฉ** | ุญุฑุฉ | `wholesale_increment` (ูุซูุงู 5 ุนูุจ) |
| **ุงูุงุณุชุฎุฏุงู** | ุงูุตูุฏููุงุช ุงูุนุงุฏูุฉ | ุงูุดุฑูุงุช ูุงูุฌููุฉ |

---

## ุงูุชูุงุตูู

### 1. ุงูุนุฑูุถ ุงูุนุงุฏูุฉ (Regular Offers)

#### ุงููููุฒุงุช:
- โ ูุชุงุญ ูุฌููุน ุงููุชุงุฌุฑ
- โ ุงูุญุฏ ุงูุฃุฏูู ุจุงููุจูุบ (`min_purchase`)
- โ ูุง ููุฌุฏ ูููุฏ ุนูู ุงูุฒูุงุฏุฉ
- โ ููุงุณุจ ููุตูุฏููุงุช ุงูุตุบูุฑุฉ

#### ุงูุญููู:
```python
is_max = BooleanField()  # ุฃูุถู ุนุฑุถ ุนุงุฏู
min_purchase = DecimalField()  # ุงูุญุฏ ุงูุฃุฏูู ุจุงููุจูุบ
```

#### API Endpoints:
```
GET /api/offers/offers/
GET /api/offers/max-offers/
POST /api/offers/offers/create/
POST /api/offers/offers/upload/
```

#### ูุซุงู:
```json
{
  "product_code": 12345,
  "available_amount": 100,
  "purchase_discount_percentage": 12.00,
  "min_purchase": 500.00,  // 500 ุฌููู ุญุฏ ุฃุฏูู
  "is_max": true
}
```

**ุงูุณููุงุฑูู**: ุตูุฏููุฉ ุชุฑูุฏ ุดุฑุงุก 25 ุนูุจุฉุ ุงูุณุนุฑ 50 ุฌููู ููุนูุจุฉ
- ุฅุฌูุงูู: 25 ร 50 = 1250 ุฌููู
- ุงูุญุฏ ุงูุฃุฏูู: 500 ุฌููู โ
- ูููู ุงูุดุฑุงุก!

---

### 2. ุนุฑูุถ ุงูุฌููุฉ (Wholesale Offers)

#### ุงููููุฒุงุช:
- โ ููุดุฑูุงุช ููุท (`company=True`)
- โ ุงูุญุฏ ุงูุฃุฏูู ุจุนุฏุฏ ุงูุนูุจ (`wholesale_min_quantity`)
- โ ุงูุฒูุงุฏุฉ ูุญุฏุฏุฉ (`wholesale_increment`)
- โ ููุงุณุจ ูููููุงุช ุงููุจูุฑุฉ

#### ุงูุญููู:
```python
is_wholesale = BooleanField()  # ุนุฑุถ ุฌููุฉ
is_max_wholesale = BooleanField()  # ุฃูุถู ุนุฑุถ ุฌููุฉ
wholesale_min_quantity = PositiveIntegerField(default=10)  # 10 ุนูุจ
wholesale_increment = PositiveIntegerField(default=5)  # ุฒูุงุฏุฉ 5 ุนูุจ
```

#### API Endpoints:
```
GET /api/offers/wholesale-offers/
GET /api/offers/max-wholesale-offers/
POST /api/offers/wholesale-offers/create/
POST /api/offers/wholesale-offers/upload/
```

#### ูุซุงู:
```json
{
  "product_code": 12345,
  "available_amount": 1000,
  "purchase_discount_percentage": 18.00,
  "is_wholesale": true,
  "wholesale_min_quantity": 20,  // 20 ุนูุจุฉ ุญุฏ ุฃุฏูู
  "wholesale_increment": 10,  // ุฒูุงุฏุฉ 10 ุนูุจ ููุท
  "is_max_wholesale": true
}
```

**ุงูุณููุงุฑูู**: ุดุฑูุฉ ุชุฑูุฏ ุดุฑุงุก ุฃุฏููุฉ
- ุงูุญุฏ ุงูุฃุฏูู: 20 ุนูุจุฉ
- ูููู ุทูุจ: 20, 30, 40, 50... (ุจุฒูุงุฏุฉ 10)
- โ ูุง ูููู ุทูุจ: 25, 35, 45... (ููุณุช ูุถุงุนูุงุช ุงูุฒูุงุฏุฉ ูู ุงูุญุฏ ุงูุฃุฏูู)

---

## ุงูุงููุตุงู ุงูุชุงู

### โ ุงูุฃููุฑ ุงููููุตูุฉ:

1. **ููุงุนุฏ ุงูุจูุงูุงุช**:
   - `is_max` โ `is_max_wholesale`
   - ููุชุฌ ูุงุญุฏ ูููู ุฃู ูููู ูู ุนุฑุถูู: ุนุงุฏู ูุฌููุฉ

2. **APIs**:
   - `/max-offers/` โ `/max-wholesale-offers/`
   - ูู ูุงุญุฏ ูุนุฑุถ ุนุฑูุถู ููุท

3. **ุงูุญุณุงุจุงุช**:
   - `calculate_max_offer()` ููุนุงุฏู
   - `calculate_max_wholesale_offer()` ููุฌููุฉ

### ๐ ุงูุฃููุฑ ุงููุดุชุฑูุฉ:

1. **ุงูููุชุฌ**: ููุณ ุงูููุชุฌ ูููู ุฃู ูููู ูู ุนุฑูุถ ุนุงุฏูุฉ ูุฌููุฉ
2. **ุงููุชุฌุฑ**: ุงููุชุฌุฑ ุงููุงุญุฏ ููููู ุชูุฏูู ุงูููุนูู (ุฅุฐุง ูุงู `company=True`)
3. **ุงูุณุนุฑ**: ููุณ ุทุฑููุฉ ุงูุญุณุงุจ (ุฎุตู ูู ุงูุณุนุฑ ุงูุนุงู)

---

## ุฃูุซูุฉ ุนูููุฉ

### ูุซุงู 1: ูุชุฌุฑ ุนุงุฏู (company=False)

```json
// โ ูููู ุฅูุดุงุก ุนุฑุถ ุนุงุฏู
POST /api/offers/offers/create/
{
  "product_code": 12345,
  "available_amount": 50,
  "purchase_discount_percentage": 10.00
}

// โ ูุง ูููู ุฅูุดุงุก ุนุฑุถ ุฌููุฉ
POST /api/offers/wholesale-offers/create/
{
  "product_code": 12345,
  "is_wholesale": true
}
// Response: "ุนุฑูุถ ุงูุฌููุฉ ูุชุงุญุฉ ููุท ูููุชุงุฌุฑ ุงููุณุฌูุฉ ูุดุฑูุงุช"
```

---

### ูุซุงู 2: ุดุฑูุฉ (company=True)

```json
// โ ูููู ุฅูุดุงุก ุนุฑุถ ุนุงุฏู
POST /api/offers/offers/create/
{
  "product_code": 12345,
  "available_amount": 50,
  "purchase_discount_percentage": 10.00
}

// โ ูููู ุฅูุดุงุก ุนุฑุถ ุฌููุฉ
POST /api/offers/wholesale-offers/create/
{
  "product_code": 12345,
  "available_amount": 500,
  "purchase_discount_percentage": 15.00,
  "is_wholesale": true,
  "wholesale_min_quantity": 50
}
```

---

### ูุซุงู 3: ููุณ ุงูููุชุฌ ุจุนุฑุถูู

**ุงูููุชุฌ**: Aspirin 100mg (ID: 456)

#### ุงูุนุฑุถ ุงูุนุงุฏู:
```json
{
  "id": 100,
  "product": {"id": 456, "name": "Aspirin 100mg"},
  "user": {"id": 10, "name": "ุตูุฏููุฉ ุงูุดูุงุก"},
  "selling_discount_percentage": "12.00",
  "selling_price": "44.00",
  "is_max": true,
  "is_wholesale": false
}
```

#### ุนุฑุถ ุงูุฌููุฉ:
```json
{
  "id": 200,
  "product": {"id": 456, "name": "Aspirin 100mg"},
  "user": {"id": 20, "name": "ุดุฑูุฉ ุงูุฃุฏููุฉ ุงููุชุญุฏุฉ"},
  "selling_discount_percentage": "18.00",
  "selling_price": "41.00",
  "is_max": false,
  "is_wholesale": true,
  "is_max_wholesale": true,
  "wholesale_min_quantity": 50,
  "wholesale_increment": 10
}
```

**ุงููุชูุฌุฉ**:
- ุงูุตูุฏููุงุช ุงูุตุบูุฑุฉ ุชุดุชุฑู ูู ุงูุนุฑุถ ุงูุนุงุฏู (12% ุฎุตูุ ุจุฏูู ุญุฏ ุฃุฏูู)
- ุงูุดุฑูุงุช ุชุดุชุฑู ูู ุนุฑุถ ุงูุฌููุฉ (18% ุฎุตูุ ููู ุจุญุฏ ุฃุฏูู 50 ุนูุจุฉ)

---

## ูุชู ุชุณุชุฎุฏู ุฃูููุงุ

### ุงุณุชุฎุฏู **ุงูุนุฑูุถ ุงูุนุงุฏูุฉ** ุฅุฐุง:
- โ ุงููุชุฌุฑ ุตุบูุฑ ูููุณ ุดุฑูุฉ
- โ ุงููููุงุช ุตุบูุฑุฉ (ูุซูุงู 10-50 ุนูุจุฉ)
- โ ุชุฑูุฏ ูุฑููุฉ ูู ุงูุทูุจ
- โ ุงูุญุฏ ุงูุฃุฏูู ุจุงููุจูุบ ูููุณ ุงูุนุฏุฏ

### ุงุณุชุฎุฏู **ุนุฑูุถ ุงูุฌููุฉ** ุฅุฐุง:
- โ ุงููุชุฌุฑ ุดุฑูุฉ (`company=True`)
- โ ุงููููุงุช ูุจูุฑุฉ (ูุซูุงู 100+ ุนูุจุฉ)
- โ ุชุฑูุฏ ุงูุชุญูู ูู ุงูุฒูุงุฏุงุช ุงููุณููุญ ุจูุง
- โ ุชุฑูุฏ ุฎุตููุงุช ุฃูุจุฑ ูููููุงุช ุงููุจูุฑุฉ

---

## ุงูุณููุงุฑูููุงุช ุงูุดุงุฆุนุฉ

### ุณููุงุฑูู 1: ุตูุฏููุฉ ุตุบูุฑุฉ ุชุฑูุฏ ุดุฑุงุก 20 ุนูุจุฉ
```
ุงูููุชุฌ: Paracetamol, ุงูุณุนุฑ: 10 ุฌููู

ุงูุนุฑุถ ุงูุนุงุฏู:
- ุฎุตู: 10%
- ุงูุณุนุฑ: 9 ุฌููู
- ุงูุญุฏ ุงูุฃุฏูู: 50 ุฌููู
- ุฅุฌูุงูู: 20 ร 9 = 180 ุฌููู โ

ุนุฑุถ ุงูุฌููุฉ:
- ุฎุตู: 15%
- ุงูุณุนุฑ: 8.5 ุฌููู
- ุงูุญุฏ ุงูุฃุฏูู: 50 ุนูุจุฉ
- ูุง ูููู ุงูุดุฑุงุก โ (ุฃูู ูู 50 ุนูุจุฉ)

โ ุชุณุชุฎุฏู ุงูุนุฑุถ ุงูุนุงุฏู
```

---

### ุณููุงุฑูู 2: ุดุฑูุฉ ุชุฑูุฏ ุดุฑุงุก 100 ุนูุจุฉ
```
ุงูููุชุฌ: Paracetamol, ุงูุณุนุฑ: 10 ุฌููู

ุงูุนุฑุถ ุงูุนุงุฏู:
- ุฎุตู: 10%
- ุงูุณุนุฑ: 9 ุฌููู
- ุฅุฌูุงูู: 100 ร 9 = 900 ุฌููู

ุนุฑุถ ุงูุฌููุฉ:
- ุฎุตู: 15%
- ุงูุณุนุฑ: 8.5 ุฌููู
- ุงูุญุฏ ุงูุฃุฏูู: 50 ุนูุจุฉ โ
- ุฅุฌูุงูู: 100 ร 8.5 = 850 ุฌููู

โ ุชุณุชุฎุฏู ุนุฑุถ ุงูุฌููุฉ (ุชูููุฑ 50 ุฌููู!)
```

---

## ุงูุฎูุงุตุฉ

| ุงูููุทุฉ | ุงูุนุฑูุถ ุงูุนุงุฏูุฉ | ุนุฑูุถ ุงูุฌููุฉ |
|-------|----------------|--------------|
| **ุงููุณุชุฎุฏู** | ุฃู ูุชุฌุฑ | ุดุฑูุงุช ููุท |
| **ุงููููุฉ** | ุตุบูุฑุฉ | ูุจูุฑุฉ |
| **ุงูุฎุตู** | ุนุงุฏู (10-12%) | ุฃูุจุฑ (15-20%) |
| **ุงูุญุฏ ุงูุฃุฏูู** | ุจุงููุจูุบ | ุจุนุฏุฏ ุงูุนูุจ |
| **ุงููุฑููุฉ** | ุนุงููุฉ | ูุญุฏูุฏุฉ (ุฒูุงุฏุงุช ูุญุฏุฏุฉ) |
| **ุงูุงุณุชุฎุฏุงู** | ูููู | ุจุงูุฌููุฉ |

---

**ููุงุญุธุฉ**: ููุง ุงููุธุงููู ูุนููุงู ุจุดูู ูุณุชูู ุชูุงูุงูุ ููููู ููููุชุฌ ุงููุงุญุฏ ุฃู ูููู ูู ุนุฑูุถ ูู ุงููุธุงููู ูุนุงู!

