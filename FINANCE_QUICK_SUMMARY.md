# ุงููุธุงู ุงููุงูู - ููุฎุต ุณุฑูุน
# Finance System - Quick Summary

## ๐ก ุจูู ุจุณุงุทุฉ

ุงููุธุงู ุงููุงูู = **ุฏูุชุฑ ุงูุญุณุงุจุงุช** ุงููู ุจูุณุฌู:
- ๐ฐ ูู ุตูุฏููุฉ ูุฏูููุฉ ุจูุงู
- ๐ช ูู ููุฑุฏ ุฃูุช ูุฏููู ูู ุจูุงู
- ๐ ูู ูุนุงููุฉ ูุงููุฉ (ุดุฑุงุกุ ุจูุนุ ุฏูุนุงุช)

---

## ๐ฆ ุงูุญุณุงุจ (Account)

### ูู ูุณุชุฎุฏู ุนูุฏู ุญุณุงุจ:

```json
{
  "user": "ุตูุฏููุฉ ุงูููุฑ",
  "balance": -15000,           // โฌ๏ธ ูุฏูููุฉ 15,000 ุฌููู
  "credit_limit": 50000,       // โฌ๏ธ ูููู ุชุฏูู ูุญุฏ 50,000
  "remaining_credit": 35000    // โฌ๏ธ ุจุงูู ูููุง 35,000 ุชุฏูู ุฒูุงุฏุฉ
}
```

**ูุฑุงุกุฉ ุงูุฑุตูุฏ:**
- `balance = -15000` โ ุงูุตูุฏููุฉ **ูุฏูููุฉ** 15,000 ุฌููู ูู
- `balance = +5000` โ ุงูุตูุฏููุฉ **ุฏุงูุนุฉ ุฒูุงุฏุฉ** 5,000 ุฌููู (ุฑุตูุฏ ููุฌุจ)
- `balance = 0` โ **ูุชุนุงุฏูุฉ** (ูุง ุฏุงุฆู ููุง ูุฏูู)

---

## ๐ ุงููุนุงููุงุช ุงููุงููุฉ

### ุฃููุงุน ุงููุนุงููุงุช:

| ุงูููุน | ูุชู ุชุญุฏุซ | ุงูุชุฃุซูุฑ ุนูู ุฑุตูุฏ ุงูุตูุฏููุฉ |
|-------|----------|---------------------------|
| **Sale Invoice** (ูุงุชูุฑุฉ ุจูุน) | ุงูุตูุฏููุฉ ุชุดุชุฑู ููู | โ ูุฒูุฏ ุงูุฏูู |
| **Sale Payment** (ุฏูุนุฉ ูู ุตูุฏููุฉ) | ุงูุตูุฏููุฉ ุชุฏูุน ูู | โ ููู ุงูุฏูู |
| **Sale Return** (ูุฑุชุฌุน ุจูุน) | ุงูุตูุฏููุฉ ุชุฑุฌุน ุจุถุงุนุฉ | โ ููู ุงูุฏูู |
| **Purchase Invoice** (ูุงุชูุฑุฉ ุดุฑุงุก) | ุฃูุช ุชุดุชุฑู ูู ููุฑุฏ | โ ูุฒูุฏ ุฏููู ููููุฑุฏ |
| **Purchase Payment** (ุฏูุนุฉ ููููุฑุฏ) | ุฃูุช ุชุฏูุน ููููุฑุฏ | โ ููู ุฏููู |
| **Purchase Return** (ูุฑุชุฌุน ุดุฑุงุก) | ุฃูุช ุชุฑุฌุน ููููุฑุฏ | โ ููู ุฏููู |

---

## ๐ฐ ูุซุงู: ุญุณุงุจ ุตูุฏููุฉ ุงูููุฑ

### ุงูุจุฏุงูุฉ
```
balance = 0  (ูุง ุฏุงุฆู ููุง ูุฏูู)
```

### 1. ุงูุตูุฏููุฉ ุงุดุชุฑุช ููู ุจุถุงุนุฉ ุจู 20,000 ุฌููู
```
ูุงุชูุฑุฉ ุจูุน โ SALE_INVOICE
balance = 0 - 20,000 = -20,000

๐ ุงูุตูุฏููุฉ ูุฏูููุฉ 20,000 ุฌููู
```

### 2. ุงูุตูุฏููุฉ ุฏูุนุช 8,000 ุฌููู
```
ุฏูุนุฉ ุจูุน โ SALE_PAYMENT
balance = -20,000 + 8,000 = -12,000

๐ ูุณู ูุฏูููุฉ 12,000 ุฌููู
```

### 3. ุงูุตูุฏููุฉ ุงุดุชุฑุช ุชุงูู ุจู 5,000 ุฌููู
```
ูุงุชูุฑุฉ ุจูุน โ SALE_INVOICE
balance = -12,000 - 5,000 = -17,000

๐ ูุฏูููุฉ 17,000 ุฌููู
```

### 4. ุงูุตูุฏููุฉ ุฑุฌุนุช ุจุถุงุนุฉ ูุนูุจุฉ ุจู 2,000 ุฌููู
```
ูุฑุชุฌุน ุจูุน โ SALE_RETURN
balance = -17,000 + 2,000 = -15,000

๐ ูุฏูููุฉ 15,000 ุฌููู
```

### 5. ุงูุตูุฏููุฉ ุฏูุนุช 15,000 ุฌููู
```
ุฏูุนุฉ ุจูุน โ SALE_PAYMENT
balance = -15,000 + 15,000 = 0

๐ ูุชุนุงุฏูุฉ โ (ุณุฏุฏุช ูู ุงูุฏููู)
```

---

## ๐ APIs ุงูุฃุณุงุณูุฉ

### ุนุฑุถ ุญุณุงุจุงุช ุงูุตูุฏููุงุช
```http
GET http://129.212.140.152/finance/accounts/
```

### ุนุฑุถ ูุนุงููุงุช ุญุณุงุจ ูุนูู
```http
GET http://129.212.140.152/finance/account-transactions/?account=5
```

### ุชุณุฌูู ุฏูุนุฉ ูู ุตูุฏููุฉ
```http
POST http://129.212.140.152/finance/sale-payments/create/
{
  "user": 5,
  "method": "cash",
  "amount": 5000,
  "at": "2025-10-10",
  "remarks": "ุฏูุนุฉ ุนูู ุงูุญุณุงุจ"
}
```

### ุชุณุฌูู ุฏูุนุฉ ูููุฑุฏ
```http
POST http://129.212.140.152/finance/purchase-payments/create/
{
  "user": 3,
  "method": "instapay",
  "amount": 10000,
  "at": "2025-10-10",
  "remarks": "ุณุฏุงุฏ ูุงุชูุฑุฉ 4601"
}
```

---

## ๐ ุงูุชูุจููุงุช ุงูุชููุงุฆูุฉ

### ุชุญุฐูุฑ ุงูุญุฏ ุงูุงุฆุชูุงูู
```
ุฅุฐุง: remaining_credit < 5000
โ โ๏ธ ุงูุตูุฏููุฉ ูุฑุจุช ุชูุตู ููุญุฏ ุงูุงุฆุชูุงูู!
```

### ููุน ุงูุจูุน
```
ุฅุฐุง: remaining_credit <= 0
โ โ ูุง ูููู ุงูุจูุน ููุตูุฏููุฉ (ูุตูุช ููุญุฏ ุงูุฃูุตู)
```

---

## ๐ ุชูุงุฑูุฑ ูููุฏุฉ

### 1. ุงูุตูุฏููุงุช ุงูุฃูุซุฑ ุฏูููุงู
```http
GET /finance/accounts/?o=-balance
```

### 2. ุงูุตูุฏููุงุช ุงููุฑูุจุฉ ูู ุงูุญุฏ ุงูุงุฆุชูุงูู
```http
GET /finance/accounts/?o=remaining_credit
```

### 3. ูุนุงููุงุช ุงูููู
```http
GET /finance/account-transactions/?at__date=2025-10-10
```

---

## ๐ฏ ููุฎุต ููุงุฆู

```
ุงููุธุงู ุงููุงูู ูุณุฌู ุชููุงุฆูุงู:

โ ูู ูุงุชูุฑุฉ ุจูุน โ ุฏูู ุนูู ุงูุตูุฏููุฉ
โ ูู ุฏูุนุฉ ูู ุตูุฏููุฉ โ ููู ุงูุฏูู
โ ูู ูุงุชูุฑุฉ ุดุฑุงุก โ ุฏูู ุนููู ููููุฑุฏ
โ ูู ุฏูุนุฉ ููููุฑุฏ โ ููู ุฏููู

ุงููุชูุฌุฉ:
๐ ุชุนุฑู ูู ุตูุฏููุฉ ูุฏูููุฉ ุจูุงู
๐ ุชุนุฑู ูู ููุฑุฏ ูุฏููู ูู ุจูุงู
๐ ุชุนุฑู ุงูุฑุตูุฏ ุงูุฅุฌูุงูู
๐ ุชููุน ุงูุจูุน ููุตูุฏููุงุช ุงููู ูุตูุช ุงูุญุฏ ุงูุงุฆุชูุงูู
```

---

**ููุชูุงุตูู ุงููุงููุฉ**: ุฑุงุฌุน [finance/FINANCE_SYSTEM_GUIDE.md](./finance/FINANCE_SYSTEM_GUIDE.md)

---

**ุขุฎุฑ ุชุญุฏูุซ**: 2025-10-10

